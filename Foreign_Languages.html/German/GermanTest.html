<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>German Test System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #000000 0%, #DD0000 50%, #FFCE00 100%); padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .hidden { display: none !important; }
        h1 { color: #2d3748; font-size: 2.5em; text-align: center; margin-bottom: 10px; }
        h2 { color: #4a5568; font-size: 1.8em; margin-bottom: 20px; }
        .subtitle { color: #718096; text-align: center; font-size: 1.2em; margin-bottom: 30px; }
        .info-box { background: #fff9e6; border-radius: 12px; padding: 25px; margin-bottom: 25px; }
        .info-box h3 { color: #DD0000; margin-bottom: 15px; }
        .info-box ul { list-style: none; color: #2d3748; }
        .info-box li { margin: 10px 0; padding-left: 25px; position: relative; }
        .info-box li::before { content: "‚Ä¢"; color: #FFCE00; font-weight: bold; position: absolute; left: 0; }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 12px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s; margin: 10px 0; }
        .btn-primary { background: linear-gradient(135deg, #DD0000 0%, #FFCE00 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(221, 0, 0, 0.4); }
        .btn-success { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .btn:disabled { background: #cbd5e0; cursor: not-allowed; }
        .progress-bar { width: 100%; height: 12px; background: #e2e8f0; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #DD0000 0%, #FFCE00 100%); transition: width 0.3s; }
        .progress-info { display: flex; justify-content: space-between; color: #718096; font-size: 0.9em; }
        .question-box { background: #fff9e6; border-radius: 12px; padding: 30px; margin: 20px 0; }
        .question-text { color: #2d3748; font-size: 1.3em; font-weight: 500; }
        input[type="text"] { width: 100%; padding: 18px; border: 2px solid #cbd5e0; border-radius: 12px; font-size: 1.1em; margin: 15px 0; }
        input[type="text"]:focus { outline: none; border-color: #DD0000; }
        .feedback { border-radius: 12px; padding: 25px; margin: 20px 0; display: flex; align-items: center; }
        .feedback-correct { background: #c6f6d5; color: #22543d; }
        .feedback-wrong { background: #fed7d7; color: #742a2a; }
        .feedback-icon { font-size: 2em; margin-right: 15px; }
        .feedback-text { font-size: 1.2em; font-weight: 600; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
        .stat-card { background: white; border-radius: 12px; padding: 25px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .stat-label { color: #718096; font-size: 0.9em; margin-bottom: 10px; }
        .stat-value { font-size: 2.5em; font-weight: bold; }
        .result-card { background: linear-gradient(135deg, #fff9e6 0%, #ffe4e4 100%); border-radius: 15px; padding: 30px; text-align: center; margin: 25px 0; }
        .score-big { font-size: 4em; font-weight: bold; margin: 15px 0; }
        .icon { width: 80px; height: 80px; margin: 20px auto; background: linear-gradient(135deg, #DD0000 0%, #FFCE00 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; }
        .overall-stats { background: #f7fafc; border-radius: 12px; padding: 15px; text-align: center; margin-top: 20px; color: #718096; font-size: 0.9em; }
    </style>
</head>
<body>
    <div id="homeScreen" class="container">
        <h1>üá©üá™ German Test System</h1>
        <p class="subtitle">Comprehensive Learning + Various Question Types + General Review</p>
        <div class="info-box">
            <h3>How it works:</h3>
            <ul><li>Complete all 24 lessons in order</li><li>Each lesson has multiple question types</li><li>General review after each lesson</li><li>Track your progress across all lessons</li></ul>
        </div>
        <button class="btn btn-primary" onclick="startFirstLesson()">Start Test - Begin with Lesson 1</button>
    </div>
    <div id="testScreen" class="container hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"><h2 id="lessonTitle"></h2><span id="lessonProgress" style="color: #718096;"></span></div>
        <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
        <div class="progress-info"><span id="questionNumber"></span><span id="currentScore"></span></div>
        <div class="question-box"><div class="question-text" id="questionText"></div></div>
        <div id="answerSection">
            <input type="text" id="answerInput" placeholder="Type your answer..." onkeypress="handleEnter(event)">
            <button class="btn btn-primary" onclick="checkAnswer()">Submit Answer</button>
        </div>
        <div id="feedbackSection" class="hidden">
            <div id="feedbackBox" class="feedback"><div class="feedback-icon" id="feedbackIcon"></div><div><div class="feedback-text" id="feedbackText"></div><div id="correctAnswer" style="margin-top: 10px;"></div></div></div>
            <button class="btn btn-success" onclick="nextQuestion()">Next Question ‚Üí</button>
        </div>
        <div class="overall-stats"><span id="overallProgress"></span></div>
    </div>
    <div id="lessonCompleteScreen" class="container hidden">
        <div class="icon">üèÜ</div><h1>Main Questions Complete!</h1>
        <div class="result-card"><div class="stat-label">Score</div><div class="score-big" id="mainScore"></div><div id="mainPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div></div>
        <p style="text-align: center; font-size: 1.2em; color: #4a5568; margin: 25px 0;">Now it's time for the General Review!</p>
        <button class="btn btn-primary" onclick="startReview()">Start General Review</button>
    </div>
    <div id="reviewCompleteScreen" class="container hidden">
        <div class="icon">üéâ</div><h1>Lesson Complete!</h1><h2 id="completedLessonName" style="text-align: center; color: #718096;"></h2>
        <div class="result-card">
            <div class="stats-grid"><div class="stat-card"><div class="stat-label">Main Questions</div><div class="stat-value" id="mainQScore" style="color: #DD0000;"></div></div><div class="stat-card"><div class="stat-label">General Review</div><div class="stat-value" id="reviewScore" style="color: #FFCE00;"></div></div></div>
            <div class="stat-card" style="margin-top: 20px;"><div class="stat-label">Total Score</div><div class="stat-value" id="totalScore"></div><div id="totalPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div><div id="performanceMessage" style="font-size: 1.2em; font-weight: 600; margin-top: 10px;"></div></div>
        </div>
        <button class="btn btn-primary" onclick="continueToNext()"><span id="continueButtonText"></span> ‚Üí</button>
        <div style="text-align: center; color: #718096; margin-top: 15px;"><span id="lessonsCompleted"></span></div>
    </div>
    <div id="finalScreen" class="container hidden">
        <div style="font-size: 4em; margin-bottom: 20px; text-align: center;">üéä</div><h1 style="text-align: center;">ALL LESSONS COMPLETED!</h1><h2 style="text-align: center; color: #DD0000;">FINAL RESULTS</h2>
        <div class="result-card">
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Lessons</div><div style="font-size: 3em; font-weight: bold;" id="totalLessons"></div></div>
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Score</div><div style="font-size: 4em; font-weight: bold; color: #DD0000;" id="finalScore"></div></div>
            <div class="stat-card"><div class="stat-label">Success Rate</div><div class="score-big" id="finalPercentage"></div><div id="finalMessage" style="font-size: 1.5em; font-weight: bold; margin-top: 15px;"></div></div>
        </div>
        <p style="text-align: center; font-size: 1.3em; color: #48bb78; font-weight: 600; margin: 25px 0;">Congratulations!</p>
        <button class="btn btn-primary" onclick="goHome()">üè† Back to Home</button>
    </div>
    <script>
        function normalizeText(text) { return text.toLowerCase().trim().normalize('NFD').replace(/[\u0300-\u036f]/g, ''); }
        const lessonsData = {"Lesson 1 - Numbers 1-10":{count:10,words:[["1","eins"],["2","zwei"],["3","drei"],["4","vier"],["5","funf"],["6","sechs"],["7","sieben"],["8","acht"],["9","neun"],["10","zehn"]],isNumbers:true},"Lesson 2 - Greetings":{count:18,words:[["Hello","hallo"],["How are you?","wie geht es ihnen"],["Nice to meet you","freut mich sie kennen zu lernen"],["See you tomorrow","bis morgen"],["Good morning","guten morgen"],["Good afternoon","guten nachmittag"],["Good evening","guten abend"],["Good night","gute nacht"],["What is your name?","wie heissen sie"],["My name is","mein name ist"],["Where do you live?","wo wohnst du"],["Where are you from?","woher kommen sie"],["Nice to see you","freut mich sie zu sehen"],["Have a nice day","ich wunsche ihnen einen schonen tag"],["See you later","bis spater"],["Goodbye","auf wiedersehen"],["Please","bitte"],["Thank you","danke"]],isNumbers:false},"Lesson 3 - Regular Verbs":{count:21,words:[["to work","arbeiten"],["to learn","lernen"],["to live","leben"],["to play","spielen"],["to ask","fragen"],["to do/make","machen"],["to say","sagen"],["to buy","kaufen"],["to hear/listen","horen"],["to live (reside)","wohnen"],["to love","lieben"],["to talk","reden"],["to open","offnen"],["to wait","warten"],["to show","zeigen"],["to need","brauchen"],["to dance","tanzen"],["to believe","glauben"],["to travel","reisen"]],isNumbers:false},"Lesson 4 - Adjectives":{count:35,words:[["Happy","glucklich"],["Sad","traurig"],["Angry","wutend"],["Afraid","angst"],["Joy","freude"],["Surprised","uberrascht"],["Calm","ruhig"],["Bored","gelangweilt"],["Easy","leicht"],["Difficult","schwer"],["Bad","schlecht"],["Good","gut"],["Noisy","laut"],["Quiet","leise"],["Strong","stark"],["Weak","schwach"],["Hard","hart"],["Soft","weich"],["More","mehr"],["Less","weniger"],["Clean","sauber"],["Dirty","schmutzig"],["Old","alt"],["New","neu"],["Big","gro√ü"],["Small","klein"],["Young","jung"],["Skinny","dunn"],["Fat","dick"],["Pretty","hubsch"],["Ugly","hasslich"],["Thick","dick"],["Thin","dunn"],["Rough","rau"],["Smooth","glatt"]],isNumbers:false},"Lesson 5.1 - Days":{count:10,words:[["The days of the week","die wochentage"],["Day","tag"],["Week","woche"],["Monday","montag"],["Tuesday","dienstag"],["Wednesday","mittwoch"],["Thursday","donnerstag"],["Friday","freitag"],["Saturday","samstag"],["Sunday","sonntag"],["Weekend","wochenende"]],isNumbers:false},"Lesson 5.2 - Months":{count:15,words:[["The months of the year","die monate des jahres"],["Month","monat"],["Year","jahr"],["January","januar"],["February","februar"],["March","marz"],["April","april"],["May","mai"],["June","juni"],["July","juli"],["August","august"],["September","september"],["October","oktober"],["November","november"],["December","dezember"]],isNumbers:false},"Lesson 6 - Seasons & Weather":{count:23,words:[["Seasons","jahreszeiten"],["Winter","winter"],["Summer","sommer"],["Spring","fruhling"],["Autumn","herbst"],["Sky","himmel"],["Cloud","wolke"],["Rainbow","regenbogen"],["Cold","kalt"],["Hot","hei√ü"],["It is hot","es ist hei√ü"],["It is cold","es ist kalt"],["It is sunny","es ist sonnig"],["It is cloudy","es ist bewolkt"],["It is humid","es ist schwul"],["It is raining","es regnet"],["It is snowing","es schneit"],["It is windy","es ist windig"],["How is the weather?","wie ist das wetter"],["Good weather","gutes wetter"],["Bad weather","schlechtes wetter"],["What is the temperature?","wie viel grad ist es"],["It is 24 degrees","es ist vierundzwanzig grad"]],isNumbers:false},"Lesson 7 - Colors":{count:14,words:[["Black","schwarz"],["Blue","blau"],["Brown","braun"],["Green","grun"],["Orange","orange"],["Purple","lila"],["Red","rot"],["White","wei√ü"],["Yellow","gelb"],["Gray","grau"],["Gold","gold"],["Silver","silber"],["What color is it?","welche farbe ist das"],["The color is","das ist"]],isNumbers:false},"Lesson 8.1 - Family":{count:35,words:[["Mother","mutter"],["Father","vater"],["Brother","bruder"],["Sister","schwester"],["Son","sohn"],["Daughter","tochter"],["Parents","eltern"],["Children","kinder"],["Child","kind"],["Stepmother","stiefmutter"],["Stepfather","stiefvater"],["Stepsister","stiefschwester"],["Stepbrother","stiefbruder"],["Son-in-law","schwiegersohn"],["Daughter-in-law","schwiegertochter"],["Wife","ehefrau"],["Husband","ehemann"],["Grandparents","gro√üeltern"],["Grandfather","opa"],["Grandmother","oma"],["Grandson","enkel"],["Granddaughter","enkelin"],["Grandchildren","enkelkinder"],["Grandchild","enkelkind"],["Aunt","tante"],["Uncle","onkel"],["Cousin (female)","cousine"],["Cousin (male)","cousin"],["Nephew","neffe"],["Niece","nichte"],["Father-in-law","schwiegervater"],["Mother-in-law","schwiegermutter"],["Brother-in-law","schwager"],["Sister-in-law","schwagerin"],["Relative","verwandter"]],isNumbers:false},"Lesson 8.2 - Friends":{count:14,words:[["Miss","fraulein"],["Boy","junge"],["Girl","madchen"],["Baby","baby"],["Woman","frau"],["Man","mann"],["Friend (male)","freund"],["Friend (female)","freundin"],["Boyfriend","freund"],["Girlfriend","freundin"],["Gentleman","gentleman"],["Lady","dame"],["Neighbor (male)","nachbar"],["Neighbor (female)","nachbarin"]],isNumbers:false},"Lesson 9 - Numbers 11-30":{count:20,words:[["11","elf"],["12","zwolf"],["13","dreizehn"],["14","vierzehn"],["15","funfzehn"],["16","sechzehn"],["17","siebzehn"],["18","achtzehn"],["19","neunzehn"],["20","zwanzig"],["21","einundzwanzig"],["22","zweiundzwanzig"],["23","dreiundzwanzig"],["24","vierundzwanzig"],["25","funfundzwanzig"],["26","sechsundzwanzig"],["27","siebenundzwanzig"],["28","achtundzwanzig"],["29","neunundzwanzig"],["30","drei√üig"]],isNumbers:true},"Lesson 10.1 - Prepositions":{count:35,words:[["For","fur"],["From","von"],["In","in"],["Inside","drinnen"],["Into","in"],["Near","nah"],["Of","von"],["Out","aus"],["Outside","drau√üen"],["To","zu"],["Under","unter"],["With","mit"],["Without","ohne"],["Above","uber"],["Across","uber"],["After","nach"],["Against","gegen"],["Along","entlang"],["Around","um"],["At","am"],["Behind","hinter"],["Below","unten"],["Beside","neben"],["Between","zwischen"],["By","an"],["During","wahrend"],["Except","au√üer"],["And","und"],["Because","weil"],["But","aber"],["Or","oder"],["Everywhere","uberall"],["Everyone","jeder"],["Everything","alles"],["Few","wenige"],["Some","einige"],["Many","viele"]],isNumbers:false},"Lesson 10.2 - Useful Words":{count:29,words:[["Question","frage"],["Answer","antwort"],["Truth","wahrheit"],["Lie","luge"],["Nothing","nichts"],["Something","etwas"],["Same","gleich"],["Different","unterschiedlich"],["Pull","ziehen"],["Push","drucken"],["Long","lang"],["Short","kurz"],["Cold","kalt"],["Hot","hei√ü"],["Light","hell"],["Dark","dunkel"],["Wet","nass"],["Dry","trocken"],["Empty","leer"],["Full","voll"],["How?","wie"],["What?","was"],["When?","wann"],["Where?","wo"],["Which?","welche"],["Who?","wer"],["Why?","warum"],["How long?","wie lange"],["How much?","wie viel"]],isNumbers:false},"Lesson 11.1 - Drinks":{count:9,words:[["Coffee","kaffee"],["Tea","tee"],["Soft drink","erfrischungsgetrank"],["Water","wasser"],["Lemonade","zitronenlimonade"],["Juice","saft"],["Orange juice","orangensaft"],["I would like a glass of water please","ich hatte gerne ein glas wasser bitte"],["With ice","mit eis"]],isNumbers:false},"Lesson 11.2 - Dairy Products":{count:19,words:[["Milk","milch"],["Ice cream","eis"],["Butter","butter"],["Cheese","kase"],["Cottage cheese","huttenkase"],["Cream","sahne"],["Sour cream","saure sahne"],["Yogurt","joghurt"],["Eggs","eier"],["Whipping cream","schlagsahne"],["Bakery","backerei"],["Baguette","baguette"],["Doughnut","krapfen"],["Cookie","platzchen"],["Roll","brotchen"],["Dessert","nachtisch"],["Cake","kuchen"],["Bread","brot"],["Pie","torte"]],isNumbers:false},"Lesson 11.3 - Meats":{count:13,words:[["Beef","rindfleisch"],["Veal","kalbfleisch"],["Ham","schinken"],["Chicken","huhn"],["Turkey","pute"],["Duck","ente"],["Bacon","speck"],["Pork","schweinefleisch"],["Filet mignon","filet mignon"],["Sausage","wurst"],["Lamb chop","lammkotelett"],["Pork chop","schweinekotelett"],["Meat","fleisch"]],isNumbers:false},"Lesson 11.4 - Seafoods":{count:20,words:[["Fish","fisch"],["Shellfish","schalentier"],["Bass","barsch"],["Salmon","lachs"],["Lobster","hummer"],["Crab","krabbe"],["Mussel","muscheln"],["Oyster","austern"],["Cod","kabeljau"],["Clam","venusmuscheln"],["Shrimp","garnelen"],["Tuna","thunfisch"],["Trout","forelle"],["Sole","seezunge"],["Shark","hai"],["Carp","karpfen"],["Tilapia","tilapia"],["Eel","aal"],["Catfish","wels"],["Swordfish","schwertfisch"]],isNumbers:false},"Lesson 11.5 - Herbs & Spices":{count:17,words:[["Salt","salz"],["Pepper","pfeffer"],["Caraway","kummel"],["Garlic","knoblauch"],["Basil","basilikum"],["Coriander","koriander"],["Fennel","fenchel"],["Marjoram","majoran"],["Oregano","oregano"],["Parsley","petersilie"],["Rosemary","rosmarin"],["Sage","salbei"],["Thyme","thymian"],["Nutmeg","muskatnuss"],["Paprika","paprika"],["Cayenne","cayenne-pfeffer"],["Ginger","ingwer"]],isNumbers:false},"Lesson 11.6 - Vegetables":{count:28,words:[["Celery","sellerie"],["Eggplant","aubergine"],["Zucchini","zucchini"],["Onion","zwiebel"],["Spinach","spinat"],["Salad","salat"],["Green beans","grune bohnen"],["Cucumber","gurke"],["Radish","radieschen"],["Cabbage","kohl"],["Mushrooms","pilze"],["Lettuce","salat"],["Corn","mais"],["Potatoes","kartoffeln"],["Tomato","tomate"],["Carrot","mohre"],["Plantain","kochbanane"],["Beans","bohnen"],["Leek","lauch"],["Lotus root","lotuswurzel"],["Bamboo shoot","bambussprosse"],["Artichoke","artischocke"],["Asparagus","spargel"],["Brussels sprouts","rosenkohl"],["Broccoli","brokkoli"],["Peas","erbsen"],["Cauliflower","blumenkohl"],["Chili pepper","chili-pfeffer"]],isNumbers:false},"Lesson 11.7 - Fruits":{count:27,words:[["Cherries","kirschen"],["Raspberries","himbeeren"],["Blueberries","heidelbeeren"],["Strawberries","erdbeeren"],["Lemon","zitrone"],["Lime","limette"],["Apple","apfel"],["Orange","orange"],["Pear","birne"],["Banana","banane"],["Grapes","trauben"],["Grapefruit","grapefruit"],["Watermelon","wassermelone"],["Pineapple","ananas"],["Plum","pflaume"],["Peach","pfirsich"],["Mango","mango"],["Apricot","aprikose"],["Pomegranate","granatapfel"],["Persimmon","kaki"],["Kiwi","kiwi-frucht"],["Litchi","litschi"],["Longan","longan-frucht"],["Balsam pear","balsam-birne"],["Passion fruit","passionsfrucht"],["Avocado","avocado"],["Coconut","kokosnuss"]],isNumbers:false},"Lesson 12 - Numbers 31-50":{count:20,words:[["31","einunddrei√üig"],["32","zweiunddrei√üig"],["33","dreiunddrei√üig"],["34","vierunddrei√üig"],["35","funfunddrei√üig"],["36","sechsunddrei√üig"],["37","siebenunddrei√üig"],["38","achtunddrei√üig"],["39","neununddrei√üig"],["40","vierzig"],["41","einundvierzig"],["42","zweiundvierzig"],["43","dreiundvierzig"],["44","vierundvierzig"],["45","funfundvierzig"],["46","sechsundvierzig"],["47","siebenundvierzig"],["48","achtundvierzig"],["49","neunundvierzig"],["50","funfzig"]],isNumbers:true},"Lesson 13 - Irregular Verbs":{count:50,words:[["to be","sein"],["to have","haben"],["to go","gehen"],["to come","kommen"],["to see","sehen"],["to give","geben"],["to eat","essen"],["to drink","trinken"],["to know (fact)","wissen"],["to want","wollen"],["to find","finden"],["to run","laufen"],["to sit","sitzen"],["to lie down","liegen"],["to stand","stehen"],["to understand","verstehen"],["to say","sagen"],["to take","nehmen"],["to write","schreiben"],["to fall","fallen"],["to begin","beginnen"],["to break","brechen"],["to build","bauen"],["to choose","wahlen"],["to do/make","machen"],["to drive","fahren"],["to forget","vergessen"],["to get","bekommen"],["to hear","horen"],["to hold","halten"],["to leave","verlassen"],["to meet","treffen"],["to pay","bezahlen"],["to put","legen/stellen"],["to read","lesen"],["to send","senden"],["to sleep","schlafen"],["to speak","sprechen"],["to spend (time)","verbringen"],["to swim","schwimmen"],["to teach","lehren"],["to tell","erzahlen"],["to think","denken"],["to throw","werfen"],["to win","gewinnen"],["to bring","bringen"]],isNumbers:false},"Lesson 15 - Physical Appearance":{count:38,words:[["Tall","gro√ü"],["Short (height)","klein"],["Slim","schlank"],["Fat","dick"],["Muscular","muskulos"],["Blonde","blond"],["Brown-haired","braunhaarig"],["Black-haired","schwarzhaarig"],["Curly hair","lockiges haar"],["Straight hair","glattes haar"],["Blue eyes","blaue augen"],["Brown eyes","braune augen"],["Green eyes","grune augen"],["Beautiful","schon"],["Handsome","gutaussehend"],["Ugly","hasslich"],["Young","jung"],["Old","alt"],["Beard","bart"],["Light-skinned","helle haut"],["Dark-skinned","dunkle haut"],["Freckles","sommersprossen"],["Wrinkles","falten"],["Bald","kahl"],["Hairy (body)","behaart"],["Straight nose","gerade nase"],["Big nose","gro√üe nase"],["Small nose","kleine nase"],["Thin lips","schmale lippen"],["Full lips","volle lippen"],["Broad shoulders","breite schultern"],["Narrow shoulders","schmale schultern"],["Tanned skin","gebraunte haut"],["Pale skin","blasse haut"],["Wavy hair","welliges haar"],["Ponytail","pferdeschwanz"],["Braids","zopfe"],["Beard and mustache","bart und schnurrbart"]],isNumbers:false},"Lesson 16 - Occupations":{count:25,words:[["Doctor","arzt/arztin"],["Teacher","lehrer/lehrerin"],["Engineer","ingenieur/ingenieurin"],["Lawyer","anwalt/anwaltin"],["Salesperson","verkaufer/verkauferin"],["Police officer","polizist/polizistin"],["Firefighter","feuerwehrmann/feuerwehrfrau"],["Programmer","programmierer/programmiererin"],["Cook/Chef","koch/kochin"],["Journalist","journalist/journalistin"],["Nurse","krankenpfleger/krankenschwester"],["Architect","architekt/architektin"],["Accountant","buchhalter/buchhalterin"],["Pharmacist","apotheker/apothekerin"],["Driver","fahrer/fahrerin"],["Mechanic","mechaniker/mechanikerin"],["Scientist","wissenschaftler/wissenschaftlerin"],["Dentist","zahnarzt/zahnarztin"],["Musician","musiker/musikerin"],["Actor","schauspieler/schauspielerin"],["Artist","kunstler/kunstlerin"],["Pilot","pilot/pilotin"],["Farmer","landwirt/landwirtin"],["Photographer","fotograf/fotografin"],["Waiter/Waitress","kellner/kellnerin"]],isNumbers:false},"Lesson 17 - Sports":{count:30,words:[["Football/Soccer","fu√üball"],["Basketball","basketball"],["Volleyball","volleyball"],["Tennis","tennis"],["Swimming","schwimmen"],["Running/Athletics","laufen/leichtathletik"],["Ice hockey","eishockey"],["Skiing","skifahren"],["Cycling","radfahren"],["Boxing","boxen"],["Martial arts","kampfsport"],["Golf","golf"],["Table tennis","tischtennis"],["Wrestling","ringen"],["Handball","handball"],["Baseball","baseball"],["Surfing","surfen"],["Skating","eislaufen"],["Horse riding","reiten"],["Diving","tauchen"],["Cricket","kricket"],["Rugby","rugby"],["Ballet","ballett"],["Bowling","bowling"],["Weightlifting","gewichtheben"],["Windsurfing","windsurfen"],["Ice skating","eislaufen"],["Rowing","rudern"],["Archery","bogenschie√üen"],["Climbing","klettern"]],isNumbers:false},"Lesson 18 - Numbers 51-75":{count:25,words:[["51","einundfunfzig"],["52","zweiundfunfzig"],["53","dreiundfunfzig"],["54","vierundfunfzig"],["55","funfundfunfzig"],["56","sechsundfunfzig"],["57","siebenundfunfzig"],["58","achtundfunfzig"],["59","neunundfunfzig"],["60","sechzig"],["61","einundsechzig"],["62","zweiundsechzig"],["63","dreiundsechzig"],["64","vierundsechzig"],["65","funfundsechzig"],["66","sechsundsechzig"],["67","siebenundsechzig"],["68","achtundsechzig"],["69","neunundsechzig"],["70","siebzig"],["71","einundsiebzig"],["72","zweiundsiebzig"],["73","dreiundsiebzig"],["74","vierundsiebzig"],["75","funfundsiebzig"]],isNumbers:true},"Lesson 19 - Clothing":{count:44,words:[["Shirt","hemd"],["T-shirt","t-shirt"],["Blouse","bluse"],["Sweater","pullover"],["Jacket","jacke"],["Coat","mantel"],["Dress","kleid"],["Skirt","rock"],["Pants","hose"],["Shorts","shorts"],["Shoes","schuhe"],["Boots","stiefel"],["Sneakers","turnschuhe"],["Sandals","sandalen"],["Hat/Cap","mutze/hut"],["Scarf","schal"],["Gloves","handschuhe"],["Belt","gurtel"],["Socks","socken"],["Winter coat","wintermantel"],["Wool hat","wollmutze"],["Snow boots","schneestiefel"],["Swimsuit","badeanzug"],["Sunglasses","sonnenbrille"],["Flip-flops","flip-flops"],["Tank top","top"],["Suit","anzug"],["Tie","krawatte"],["Blazer","blazer"],["High heels","high heels"],["Evening dress","abendkleid"],["Black","schwarz"],["White","wei√ü"],["Red","rot"],["Blue","blau"],["Green","grun"],["Cotton","baumwolle"],["Wool","wolle"],["Leather","leder"],["Silk","seide"],["Linen","leinen"]],isNumbers:false},"Lesson 20 - Adverbs":{count:20,words:[["Quickly","schnell"],["Slowly","langsam"],["Always","immer"],["Never","nie"],["Often","oft"],["Sometimes","manchmal"],["Rarely","selten"],["Already","schon"],["Still","noch"],["Yet","noch"],["Soon","bald"],["Now","jetzt"],["Later","spater"],["Today","heute"],["Tomorrow","morgen"],["Yesterday","gestern"],["Clearly","klar"],["Together","zusammen"],["Apart","getrennt"],["Forever","fur immer"]],isNumbers:false},"Lesson 21 - Animals":{count:20,words:[["Dog","hund"],["Cat","katze"],["Horse","pferd"],["Cow","kuh"],["Sheep","schaf"],["Pig","schwein"],["Goat","ziege"],["Chicken","huhn"],["Duck","ente"],["Bird","vogel"],["Rabbit","kaninchen"],["Mouse","maus"],["Lion","lowe"],["Tiger","tiger"],["Bear","bar"],["Elephant","elefant"],["Monkey","affe"],["Fox","fuchs"],["Wolf","wolf"],["Deer","reh"]],isNumbers:false},"Lesson 22 - Places in Town":{count:20,words:[["School","schule"],["Hospital","krankenhaus"],["Bank","bank"],["Restaurant","restaurant"],["Library","bibliothek"],["Supermarket","supermarkt"],["Cinema","kino"],["Post office","post"],["Police station","polizeistation"],["Park","park"],["Museum","museum"],["Theatre","theater"],["Hotel","hotel"],["Stadium","stadion"],["Church","kirche"],["Pharmacy","apotheke"],["Bakery","backerei"],["Butcher","metzgerei"],["Market","markt"],["Hairdresser","friseur"]],isNumbers:false},"Lesson 23 - School Supplies":{count:20,words:[["Book","buch"],["Pen","stift"],["Pencil","bleistift"],["Eraser","radiergummi"],["Notebook","heft"],["Ruler","lineal"],["Scissors","schere"],["Backpack","rucksack"],["Folder","ordner"],["Calculator","taschenrechner"],["Marker","marker"],["Chalk","kreide"],["Map","karte"],["Highlighter","textmarker"],["Projector","projektor"],["Laptop","laptop"],["Printer","drucker"],["USB stick","usb-stick"],["Schoolbag","schultasche"],["Sharpener","spitzer"]],isNumbers:false},"Lesson 24 - Transportation":{count:20,words:[["Car","auto"],["Bus","bus"],["Train","zug"],["Bicycle","fahrrad"],["Motorcycle","motorrad"],["Airplane","flugzeug"],["Boat","boot"],["Tram","stra√üenbahn"],["Taxi","taxi"],["Subway","u-bahn"],["Ferry","fahre"],["Yacht","yacht"],["Hot air balloon","hei√üluftballon"],["Spaceship","raumschiff"],["Rickshaw","rikscha"],["Gondola","gondel"],["Zeppelin","zeppelin"],["Rollerblades","inlineskates"],["Canoe","kanu"],["Submarine","u-boot"]],isNumbers:false}};
        let state = {lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};
        function generateQuestions(words,count,isNumbers){const q=[];if(isNumbers){words.forEach(([e,g])=>{q.push({question:`What is '${e}' in German? (Answer with the WORD)`,answer:g,displayAnswer:g});});words.forEach(([e,g])=>{q.push({question:`What number is '${g}'? (Answer with the NUMBER)`,answer:e,displayAnswer:e});});}else if(count<=20){words.forEach(([e,g])=>q.push({question:`Translate to German: '${e}'`,answer:g,displayAnswer:g}));words.forEach(([e,g])=>q.push({question:`Translate to English: '${g}'`,answer:e,displayAnswer:e}));words.forEach(([e,g])=>{const f=g[0]||"";const b="_".repeat(g.length-1);q.push({question:`'${e}' = '${f}${b}' - Complete the German word`,answer:g,displayAnswer:g});});}else{const t=Math.floor(words.length/3);words.slice(0,t).forEach(([e,g])=>q.push({question:`Translate to German: '${e}'`,answer:g,displayAnswer:g}));words.slice(t,t*2).forEach(([e,g])=>q.push({question:`Translate to English: '${g}'`,answer:e,displayAnswer:e}));words.slice(t*2).forEach(([e,g])=>{const f=g[0]||"";const b="_".repeat(g.length-1);q.push({question:`'${e}' = '${f}${b}'`,answer:g,displayAnswer:g});});}return q.sort(()=>Math.random()-0.5);}
        function generateReview(words,isNumbers){const size=Math.min(20,words.length);const sampled=[...words].sort(()=>Math.random()-0.5).slice(0,size);return sampled.map(([e,g])=>{if(isNumbers){return Math.random()>0.5?{question:`[GENERAL REVIEW] '${e}' in German?`,answer:g,displayAnswer:g}:{question:`[GENERAL REVIEW] What number is '${g}'?`,answer:e,displayAnswer:e};}else{return Math.random()>0.5?{question:`[GENERAL REVIEW] Translate: '${e}'`,answer:g,displayAnswer:g}:{question:`[GENERAL REVIEW] Translate: '${g}'`,answer:e,displayAnswer:e};}});}
        function showScreen(id){document.querySelectorAll('.container').forEach(e=>e.classList.add('hidden'));document.getElementById(id).classList.remove('hidden');}
        function startFirstLesson(){state.currentLessonIndex=0;startLesson(state.lessonNames[0]);}
        function startLesson(name){const l=lessonsData[name];state.currentLesson=name;state.questions=generateQuestions(l.words,l.count,l.isNumbers);state.currentQ=0;state.score={correct:0,total:0};state.mainQuestionsCorrect=0;state.isReview=false;updateTestScreen();showScreen('testScreen');}
        function updateTestScreen(){const q=state.questions[state.currentQ];const p=((state.currentQ+1)/state.questions.length)*100;document.getElementById('lessonTitle').textContent=state.isReview?'üîÑ GENERAL REVIEW':state.currentLesson;document.getElementById('lessonProgress').textContent=`Lesson ${state.completedLessons+1}/${state.lessonNames.length}`;document.getElementById('progressFill').style.width=p+'%';document.getElementById('questionNumber').textContent=`Question ${state.currentQ+1}/${state.questions.length}`;document.getElementById('currentScore').textContent=`Score: ${state.score.correct}/${state.score.total}`;document.getElementById('questionText').textContent=q.question;document.getElementById('overallProgress').textContent=`Overall Progress: ${state.allLessonsScore.correct}/${state.allLessonsScore.total} (${state.allLessonsScore.total>0?Math.round((state.allLessonsScore.correct/state.allLessonsScore.total)*100):0}%)`;document.getElementById('answerInput').value='';document.getElementById('answerInput').focus();document.getElementById('answerSection').classList.remove('hidden');document.getElementById('feedbackSection').classList.add('hidden');}
        function handleEnter(e){if(e.key==='Enter'&&document.getElementById('answerInput').value)checkAnswer();}
        function checkAnswer(){const a=document.getElementById('answerInput').value;if(!a)return;const q=state.questions[state.currentQ];const c=normalizeText(a)===normalizeText(q.answer);state.score.correct+=c?1:0;state.score.total+=1;state.allLessonsScore.correct+=c?1:0;state.allLessonsScore.total+=1;if(!state.isReview&&state.currentQ<state.questions.length){if(c)state.mainQuestionsCorrect++;}document.getElementById('feedbackBox').className=c?'feedback feedback-correct':'feedback feedback-wrong';document.getElementById('feedbackIcon').textContent=c?'‚úì':'‚úó';document.getElementById('feedbackText').textContent=c?'Correct!':'Wrong!';document.getElementById('correctAnswer').innerHTML=c?'':`Correct answer: <strong>${q.displayAnswer}</strong>`;document.getElementById('answerSection').classList.add('hidden');document.getElementById('feedbackSection').classList.remove('hidden');}
        function nextQuestion(){if(state.currentQ<state.questions.length-1){state.currentQ++;updateTestScreen();}else{if(!state.isReview){showLessonComplete();}else{state.completedLessons++;showReviewComplete();}}}
        function showLessonComplete(){const p=(state.mainQuestionsCorrect/state.questions.length)*100;document.getElementById('mainScore').textContent=`${state.mainQuestionsCorrect}/${state.questions.length}`;document.getElementById('mainPercentage').textContent=p.toFixed(1)+'%';showScreen('lessonCompleteScreen');}
        function startReview(){const l=lessonsData[state.currentLesson];state.questions=generateReview(l.words,l.isNumbers);state.currentQ=0;state.isReview=true;updateTestScreen();showScreen('testScreen');}
        function showReviewComplete(){const rc=state.score.correct-state.mainQuestionsCorrect;const tc=state.score.correct;const tq=state.score.total;const p=(tc/tq)*100;document.getElementById('completedLessonName').textContent=state.currentLesson;document.getElementById('mainQScore').textContent=state.mainQuestionsCorrect;document.getElementById('reviewScore').textContent=rc;document.getElementById('totalScore').textContent=`${tc}/${tq}`;document.getElementById('totalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('totalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâ Excellent!':p>=70?'üëè Very Good!':p>=50?'üëç Good!':'üìö Keep studying!';document.getElementById('performanceMessage').textContent=m;const last=state.currentLessonIndex===state.lessonNames.length-1;document.getElementById('continueButtonText').textContent=last?'View Final Results':`Continue to ${state.lessonNames[state.currentLessonIndex+1]}`;document.getElementById('lessonsCompleted').textContent=`Completed: ${state.completedLessons}/${state.lessonNames.length} lessons`;showScreen('reviewCompleteScreen');}
        function continueToNext(){state.currentLessonIndex++;if(state.currentLessonIndex<state.lessonNames.length){startLesson(state.lessonNames[state.currentLessonIndex]);}else{showFinalResults();}}
        function showFinalResults(){const p=(state.allLessonsScore.correct/state.allLessonsScore.total)*100;document.getElementById('totalLessons').textContent=state.lessonNames.length;document.getElementById('finalScore').textContent=`${state.allLessonsScore.correct}/${state.allLessonsScore.total}`;document.getElementById('finalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('finalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâüéâüéâ EXCELLENT! You\'re amazing at German! üéâüéâüéâ':p>=70?'üëèüëèüëè VERY GOOD! Great performance! üëèüëèüëè':p>=50?'üëçüëç GOOD! Keep going! üëçüëç':'üìöüìö Keep studying! You can do it! üìöüìö';document.getElementById('finalMessage').textContent=m;showScreen('finalScreen');}
        function goHome(){state={lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};showScreen('homeScreen');}
    </script>
</body>
</html>