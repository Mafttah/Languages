<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Italian Test System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #2ecc71 0%, #e74c3c 100%); padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .hidden { display: none !important; }
        h1 { color: #2d3748; font-size: 2.5em; text-align: center; margin-bottom: 10px; }
        h2 { color: #4a5568; font-size: 1.8em; margin-bottom: 20px; }
        .subtitle { color: #718096; text-align: center; font-size: 1.2em; margin-bottom: 30px; }
        .info-box { background: #f0fff4; border-radius: 12px; padding: 25px; margin-bottom: 25px; }
        .info-box h3 { color: #2ecc71; margin-bottom: 15px; }
        .info-box ul { list-style: none; color: #2d3748; }
        .info-box li { margin: 10px 0; padding-left: 25px; position: relative; }
        .info-box li::before { content: "‚Ä¢"; color: #e74c3c; font-weight: bold; position: absolute; left: 0; }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 12px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s; margin: 10px 0; }
        .btn-primary { background: linear-gradient(135deg, #2ecc71 0%, #e74c3c 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(231, 76, 60, 0.4); }
        .btn-success { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .btn:disabled { background: #cbd5e0; cursor: not-allowed; }
        .progress-bar { width: 100%; height: 12px; background: #e2e8f0; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #2ecc71 0%, #e74c3c 100%); transition: width 0.3s; }
        .progress-info { display: flex; justify-content: space-between; color: #718096; font-size: 0.9em; }
        .question-box { background: #f0fff4; border-radius: 12px; padding: 30px; margin: 20px 0; }
        .question-text { color: #2d3748; font-size: 1.3em; font-weight: 500; }
        input[type="text"] { width: 100%; padding: 18px; border: 2px solid #cbd5e0; border-radius: 12px; font-size: 1.1em; margin: 15px 0; }
        input[type="text"]:focus { outline: none; border-color: #2ecc71; }
        .feedback { border-radius: 12px; padding: 25px; margin: 20px 0; display: flex; align-items: center; }
        .feedback-correct { background: #c6f6d5; color: #22543d; }
        .feedback-wrong { background: #fed7d7; color: #742a2a; }
        .feedback-icon { font-size: 2em; margin-right: 15px; }
        .feedback-text { font-size: 1.2em; font-weight: 600; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
        .stat-card { background: white; border-radius: 12px; padding: 25px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .stat-label { color: #718096; font-size: 0.9em; margin-bottom: 10px; }
        .stat-value { font-size: 2.5em; font-weight: bold; }
        .result-card { background: linear-gradient(135deg, #f0fff4 0%, #fef5e7 100%); border-radius: 15px; padding: 30px; text-align: center; margin: 25px 0; }
        .score-big { font-size: 4em; font-weight: bold; margin: 15px 0; }
        .icon { width: 80px; height: 80px; margin: 20px auto; background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; }
        .overall-stats { background: #f7fafc; border-radius: 12px; padding: 15px; text-align: center; margin-top: 20px; color: #718096; font-size: 0.9em; }
    </style>
</head>
<body>
    <div id="homeScreen" class="container">
        <h1>üáÆüáπ Italian Test System</h1>
        <p class="subtitle">Comprehensive Learning + Various Question Types + General Review</p>
        <div class="info-box">
            <h3>How it works:</h3>
            <ul><li>Complete all 32 lessons in order</li><li>Each lesson has multiple question types</li><li>General review after each lesson</li><li>Track your progress across all lessons</li></ul>
        </div>
        <button class="btn btn-primary" onclick="startFirstLesson()">Start Test - Begin with Lesson 1</button>
    </div>
    <div id="testScreen" class="container hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"><h2 id="lessonTitle"></h2><span id="lessonProgress" style="color: #718096;"></span></div>
        <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
        <div class="progress-info"><span id="questionNumber"></span><span id="currentScore"></span></div>
        <div class="question-box"><div class="question-text" id="questionText"></div></div>
        <div id="answerSection">
            <input type="text" id="answerInput" placeholder="Type your answer..." onkeypress="handleEnter(event)">
            <button class="btn btn-primary" onclick="checkAnswer()">Submit Answer</button>
        </div>
        <div id="feedbackSection" class="hidden">
            <div id="feedbackBox" class="feedback"><div class="feedback-icon" id="feedbackIcon"></div><div><div class="feedback-text" id="feedbackText"></div><div id="correctAnswer" style="margin-top: 10px;"></div></div></div>
            <button class="btn btn-success" onclick="nextQuestion()">Next Question ‚Üí</button>
        </div>
        <div class="overall-stats"><span id="overallProgress"></span></div>
    </div>
    <div id="lessonCompleteScreen" class="container hidden">
        <div class="icon">üèÜ</div><h1>Main Questions Complete!</h1>
        <div class="result-card"><div class="stat-label">Score</div><div class="score-big" id="mainScore"></div><div id="mainPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div></div>
        <p style="text-align: center; font-size: 1.2em; color: #4a5568; margin: 25px 0;">Now it's time for the General Review!</p>
        <button class="btn btn-primary" onclick="startReview()">Start General Review</button>
    </div>
    <div id="reviewCompleteScreen" class="container hidden">
        <div class="icon">üéâ</div><h1>Lesson Complete!</h1><h2 id="completedLessonName" style="text-align: center; color: #718096;"></h2>
        <div class="result-card">
            <div class="stats-grid"><div class="stat-card"><div class="stat-label">Main Questions</div><div class="stat-value" id="mainQScore" style="color: #2ecc71;"></div></div><div class="stat-card"><div class="stat-label">General Review</div><div class="stat-value" id="reviewScore" style="color: #e74c3c;"></div></div></div>
            <div class="stat-card" style="margin-top: 20px;"><div class="stat-label">Total Score</div><div class="stat-value" id="totalScore"></div><div id="totalPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div><div id="performanceMessage" style="font-size: 1.2em; font-weight: 600; margin-top: 10px;"></div></div>
        </div>
        <button class="btn btn-primary" onclick="continueToNext()"><span id="continueButtonText"></span> ‚Üí</button>
        <div style="text-align: center; color: #718096; margin-top: 15px;"><span id="lessonsCompleted"></span></div>
    </div>
    <div id="finalScreen" class="container hidden">
        <div style="font-size: 4em; margin-bottom: 20px; text-align: center;">üéä</div><h1 style="text-align: center;">ALL LESSONS COMPLETED!</h1><h2 style="text-align: center; color: #e74c3c;">FINAL RESULTS</h2>
        <div class="result-card">
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Lessons</div><div style="font-size: 3em; font-weight: bold;" id="totalLessons"></div></div>
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Score</div><div style="font-size: 4em; font-weight: bold; color: #e74c3c;" id="finalScore"></div></div>
            <div class="stat-card"><div class="stat-label">Success Rate</div><div class="score-big" id="finalPercentage"></div><div id="finalMessage" style="font-size: 1.5em; font-weight: bold; margin-top: 15px;"></div></div>
        </div>
        <p style="text-align: center; font-size: 1.3em; color: #48bb78; font-weight: 600; margin: 25px 0;">Congratulations!</p>
        <button class="btn btn-primary" onclick="goHome()">üè† Back to Home</button>
    </div>
    <script>
        function normalizeText(text) { return text.toLowerCase().trim().normalize('NFD').replace(/[\u0300-\u036f]/g, ''); }
        const lessonsData = {"Lesson 1 - Numbers 1-10":{count:10,words:[["1","uno"],["2","dos"],["3","tres"],["4","cuatro"],["5","cinco"],["6","seis"],["7","siete"],["8","ocho"],["9","nueve"],["10","diez"]],isNumbers:true},"Lesson 2 - Greetings":{count:18,words:[["Hello","ciao"],["How are you?","come stai"],["Nice to see you","felice di vederti"],["Nice to meet you","piacere di conoscerti"],["See you tomorrow","a domani"],["Good morning","buon giorno"],["Good afternoon","buon pomeriggio"],["Good evening","buona sera"],["Good night","buona notte"],["What is your name?","come ti chiami"],["My name is","mi chiamo"],["Where do you live?","dove vive"],["Where are you from?","di dove sei"],["Have a nice day","buona giornata"],["See you later","a dopo"],["Goodbye","arrivederci"],["Please","per favore"],["Thank you","grazie"]],isNumbers:false},"Lesson 3.1 - Regular -ARE Verbs":{count:60,words:[["to live/inhabit","abitare"],["to help","aiutare"],["to love","amare"],["to arrive","arrivare"],["to listen to","ascoltare"],["to wait for","aspettare"],["to kiss","baciare"],["to conserve","conservare"],["to consider","considerare"],["to advise","consigliare"],["to cost","costare"],["to cause","causare"],["to have dinner","cenare"],["to call","chiamare"],["to begin","cominciare"],["to buy","comprare"],["to teach","insegnare"],["to complain","lamentare"],["to leave","lasciare"],["to wash","lavare"],["to work","lavorare"],["to eat","mangiare"],["to swim","nuotare"],["to cook","cucinare"],["to take care of","curare"],["to draw","disegnare"],["to meet","incontrare"],["to wear","indossare"],["to become","diventare"],["to doubt","dubitare"],["to enter","entrare"],["to avoid","evitare"],["to smoke","fumare"],["to watch","guardare"],["to drive","guidare"],["to learn","imparare"],["to suffice","bastare"],["to walk","camminare"],["to sing","cantare"],["to organize","ordinare"],["to speak","parlare"],["to pass","passare"],["to think","pensare"],["to bring","portare"],["to have lunch","pranzare"],["to book","prenotare"],["to try","provare"],["to stay","restare"],["to remember","ricordare"],["to greet","salutare"],["to save","salvare"],["to make mistake","sbagliare"],["to hope","sperare"],["to study","studiare"],["to cut","tagliare"],["to return","tornare"],["to find","trovare"],["to travel","viaggiare"],["to visit","visitare"]],isNumbers:false},"Lesson 3.2 - Regular -ERE Verbs":{count:39,words:[["to access","accedere"],["to turn on","accendere"],["to learn","apprendere"],["to assume","assumere"],["to wait for","attendere"],["to beat","battere"],["to ask","chiedere"],["to close","chiudere"],["to understand","comprendere"],["to know","conoscere"],["to run","correre"],["to believe","credere"],["to die","decedere"],["to decide","decidere"],["to describe","descrivere"],["to debate","dibattere"],["to discuss","discutere"],["to put","mettere"],["to lose","perdere"],["to precede","precedere"],["to press","premere"],["to take","prendere"],["to claim","pretendere"],["to promise","promettere"],["to give back","rendere"],["to receive","ricevere"],["to laugh","ridere"],["to repeat","ripetere"],["to answer","rispondere"],["to break","rompere"],["to descend","scendere"],["to write","scrivere"],["to smile","sorridere"],["to spend","spendere"],["to fear","temere"],["to weave","tessere"],["to see","vedere"],["to sell","vendere"],["to live","vivere"]],isNumbers:false},"Lesson 3.3 - Regular -IRE Verbs":{count:28,words:[["to abhor","aborrire"],["to agree","acconsentire"],["to applaud","applaudire"],["to open","aprire"],["to assent","assentire"],["to absorb","assorbire"],["to warn","avvertire"],["to boil","bollire"],["to share","compartire"],["to convert","convertire"],["to cover","coprire"],["to sew","cucire"],["to enjoy","divertire"],["to sleep","dormire"],["to escape","fuggire"],["to swallow","inghiottire"],["to lie","mentire"],["to feed","nutrire"],["to offer","offrire"],["to leave","partire"],["to reopen","riaprire"],["to fill","riempire"],["to discover","scoprire"],["to follow","seguire"],["to feel","sentire"],["to serve","servire"],["to suffer","soffrire"],["to cough","tossire"],["to dress","vestire"]],isNumbers:false},"Lesson 4 - Adjectives":{count:35,words:[["Happy","felice"],["Sad","triste"],["Angry","arrabbiato"],["Afraid","spaventato"],["Joy","gioia"],["Surprised","sorpreso"],["Calm","calmo"],["Bored","annoiato"],["Easy","facile"],["Difficult","difficile"],["Bad","cattivo"],["Good","buono"],["Noisy","rumoroso"],["Quiet","silenzioso"],["Strong","forte"],["Weak","debole"],["Hard","duro"],["Soft","morbido"],["More","piu"],["Less","meno"],["Clean","pulito"],["Dirty","sporco"],["Old","vecchio"],["New","nuovo"],["Big","grande"],["Small","piccolo"],["Young","giovane"],["Skinny","magro"],["Fat","grasso"],["Pretty","bello"],["Ugly","brutto"],["Thick","spesso"],["Thin","sottile"],["Rough","ruvido"],["Smooth","liscio"]],isNumbers:false},"Lesson 5.1 - Days":{count:11,words:[["The days of the week","i giorni della settimana"],["Day","giorno"],["Week","settimana"],["Monday","lunedi"],["Tuesday","martedi"],["Wednesday","mercoledi"],["Thursday","giovedi"],["Friday","venerdi"],["Saturday","sabato"],["Sunday","domenica"],["Weekend","fine settimana"]],isNumbers:false},"Lesson 5.2 - Months":{count:15,words:[["The months of the year","i mesi dell'anno"],["Month","mese"],["Year","anno"],["January","gennaio"],["February","febbraio"],["March","marzo"],["April","aprile"],["May","maggio"],["June","giugno"],["July","luglio"],["August","agosto"],["September","settembre"],["October","ottobre"],["November","novembre"],["December","dicembre"]],isNumbers:false},"Lesson 6 - Seasons & Weather":{count:23,words:[["Seasons","stagioni"],["Winter","inverno"],["Summer","estate"],["Spring","primavera"],["Autumn","autunno"],["Sky","cielo"],["Cloud","nuvola"],["Rainbow","arcobaleno"],["Cold","freddo"],["Hot","caldo"],["It is hot","fa caldo"],["It is cold","fa freddo"],["It is sunny","c'e il sole"],["It is cloudy","e nuvoloso"],["It is humid","e umido"],["It is raining","piove"],["It is snowing","nevica"],["It is windy","c'e vento"],["How is the weather?","com'e il tempo"],["Good weather","bel tempo"],["Bad weather","maltempo"],["What is the temperature?","che temperatura c'e"],["It is 24 degrees","ci sono ventiquattro gradi"]],isNumbers:false},"Lesson 7 - Colors":{count:14,words:[["Black","nero"],["Blue","blu"],["Brown","marrone"],["Green","verde"],["Orange","arancione"],["Purple","viola"],["Red","rosso"],["White","bianco"],["Yellow","giallo"],["Gray","grigio"],["Gold","oro"],["Silver","argento"],["What color is it?","che colore e"],["The color is","il colore e"]],isNumbers:false},"Lesson 8.1 - Family":{count:35,words:[["Mother","madre"],["Father","padre"],["Brother","fratello"],["Sister","sorella"],["Son","figlio"],["Daughter","figlia"],["Parents","genitori"],["Children","bambini"],["Child","bambino"],["Stepmother","madre acquisita"],["Stepfather","padre acquisito"],["Stepsister","sorella acquisita"],["Stepbrother","fratello acquisito"],["Son-in-law","genero"],["Daughter-in-law","nuora"],["Wife","moglie"],["Husband","marito"],["Grandparents","nonni"],["Grandfather","nonno"],["Grandmother","nonna"],["Grandson","nipotino"],["Granddaughter","nipotina"],["Grandchildren","nipotini"],["Grandchild","nipotino"],["Aunt","zia"],["Uncle","zio"],["Cousin (female)","cugina"],["Cousin (male)","cugino"],["Nephew","nipote"],["Niece","nipote"],["Father-in-law","suocero"],["Mother-in-law","suocera"],["Brother-in-law","cognato"],["Sister-in-law","cognata"],["Relative","parente"]],isNumbers:false},"Lesson 8.2 - Friends":{count:14,words:[["Miss","signorina"],["Boy","ragazzo"],["Girl","ragazza"],["Baby","bebe"],["Woman","donna"],["Man","uomo"],["Friend (male)","amico"],["Friend (female)","amica"],["Boyfriend","fidanzato"],["Girlfriend","fidanzata"],["Gentleman","signore"],["Lady","signora"],["Neighbor (male)","vicino"],["Neighbor (female)","vicina di casa"]],isNumbers:false},"Lesson 9 - Numbers 11-30":{count:20,words:[["11","undici"],["12","dodici"],["13","tredici"],["14","quattordici"],["15","quindici"],["16","sedici"],["17","diciassette"],["18","diciotto"],["19","diciannove"],["20","venti"],["21","ventuno"],["22","ventidue"],["23","ventitre"],["24","ventiquattro"],["25","venticinque"],["26","ventisei"],["27","ventisette"],["28","ventotto"],["29","ventinove"],["30","trenta"]],isNumbers:true},"Lesson 10.1 - Prepositions":{count:36,words:[["For","per"],["From","da"],["In","in"],["Inside","dentro"],["Into","in"],["Near","vicino"],["Of","di"],["Out","fuori"],["Outside","fuori"],["To","a"],["Under","sotto"],["With","con"],["Without","senza"],["Above","sopra"],["Across","attraverso"],["After","dopo"],["Against","contro"],["Along","lungo"],["Around","intorno"],["At","a"],["Behind","dietro"],["Below","in basso"],["Beside","accanto a"],["Between","fra"],["By","da"],["During","durante"],["Except","tranne"],["And","e"],["Because","perche"],["But","ma"],["Or","o"],["Everywhere","dappertutto"],["Everyone","tutti"],["Everything","tutto"],["Few","pochi"],["Some","alcuni"],["Many","molti"]],isNumbers:false},"Lesson 10.2 - Useful Words":{count:29,words:[["Question","domanda"],["Answer","risposta"],["Truth","verita"],["Lie","bugia"],["Nothing","niente"],["Something","qualcosa"],["Same","identico"],["Different","diverso"],["Pull","tirare"],["Push","spingere"],["Long","lungo"],["Short","corto"],["Cold","freddo"],["Hot","caldo"],["Light","chiaro"],["Dark","scuro"],["Wet","bagnato"],["Dry","asciutto"],["Empty","vuoto"],["Full","pieno"],["How?","come"],["What?","cosa"],["When?","quando"],["Where?","dove"],["Which?","quale"],["Who?","chi"],["Why?","perche"],["How long?","quanto tempo"],["How much?","quanto"]],isNumbers:false},"Lesson 11.1 - Drinks":{count:9,words:[["Coffee","caffe"],["Tea","te"],["Soft drink","bibita"],["Water","acqua"],["Lemonade","limonata"],["Juice","succo di frutta"],["Orange juice","aranciata"],["I would like a glass of water please","un bicchiere d'acqua per favore"],["With ice","con ghiaccio"]],isNumbers:false},"Lesson 11.2 - Dairy Products":{count:19,words:[["Milk","latte"],["Ice cream","gelato"],["Butter","burro"],["Cheese","formaggio"],["Cottage cheese","fiocchi di latte"],["Cream","panna"],["Sour cream","panna acida"],["Yogurt","yogurt"],["Eggs","uova"],["Whipping cream","panna da montare"],["Bakery","panificio"],["Baguette","filoncino"],["Doughnut","ciambella"],["Cookie","biscotto"],["Roll","rosetta di pane"],["Dessert","dolci"],["Cake","torta"],["Bread","pane"],["Pie","crostata"]],isNumbers:false},"Lesson 11.3 - Meats":{count:13,words:[["Beef","manzo"],["Veal","vitello"],["Ham","prosciutto"],["Chicken","pollo"],["Turkey","tacchino"],["Duck","anatra"],["Bacon","pancetta"],["Pork","maiale"],["Filet mignon","filetto"],["Sausage","salsiccia"],["Lamb chop","braciola di agnello"],["Pork chop","braciola di maiale"],["Meat","carne"]],isNumbers:false},"Lesson 11.4 - Seafoods":{count:20,words:[["Fish","pesce"],["Shellfish","crostacei"],["Bass","branzino"],["Salmon","salmone"],["Lobster","aragosta"],["Crab","granchio"],["Mussel","cozza"],["Oyster","ostrica"],["Cod","merluzzo"],["Clam","vongola"],["Shrimp","gambero"],["Tuna","tonno"],["Trout","trota"],["Sole","sogliola"],["Shark","squalo"],["Carp","carpa"],["Tilapia","tilapia"],["Eel","anguilla"],["Catfish","pesce gatto"],["Swordfish","pesce spada"]],isNumbers:false},"Lesson 11.5 - Herbs & Spices":{count:17,words:[["Salt","sale"],["Pepper","pepe"],["Caraway","cumino"],["Garlic","aglio"],["Basil","basilico"],["Coriander","coriandolo"],["Fennel","finocchio"],["Marjoram","maggiorana"],["Oregano","origano"],["Parsley","prezzemolo"],["Rosemary","rosmarino"],["Sage","salvia"],["Thyme","timo"],["Nutmeg","noce moscata"],["Paprika","paprika"],["Cayenne","pepe di caienna"],["Ginger","zenzero"]],isNumbers:false},"Lesson 11.6 - Vegetables":{count:28,words:[["Celery","sedano"],["Eggplant","melanzana"],["Zucchini","zucchine"],["Onion","cipolla"],["Spinach","spinaci"],["Salad","insalata"],["Green beans","fagiolini"],["Cucumber","cetriolo"],["Radish","ravanello"],["Cabbage","cavolo"],["Mushrooms","funghi"],["Lettuce","lattuga"],["Corn","mais"],["Potatoes","patate"],["Tomato","pomodoro"],["Carrot","carota"],["Plantain","banana platano"],["Beans","fagioli"],["Leek","porro"],["Lotus root","radice di loto"],["Bamboo shoot","germoglio di bambu"],["Artichoke","carciofo"],["Asparagus","asparagi"],["Brussels sprouts","cavolini di bruxelles"],["Broccoli","broccoli"],["Peas","piselli"],["Cauliflower","cavolfiore"],["Chili pepper","peperoncino"]],isNumbers:false},"Lesson 11.7 - Fruits":{count:27,words:[["Cherries","ciliegie"],["Raspberries","lamponi"],["Blueberries","mirtilli"],["Strawberries","fragole"],["Lemon","limone"],["Lime","lime"],["Apple","mela"],["Orange","arancia"],["Pear","pera"],["Banana","banana"],["Grapes","uva"],["Grapefruit","pompelmo"],["Watermelon","anguria"],["Pineapple","ananas"],["Plum","prugna"],["Peach","pesca"],["Mango","mango"],["Apricot","albicocca"],["Pomegranate","melograno"],["Persimmon","caco"],["Kiwi","kiwi"],["Litchi","litchi"],["Longan","longan"],["Balsam pear","zucca amara"],["Passion fruit","frutto della passione"],["Avocado","avocado"],["Coconut","cocco"]],isNumbers:false},"Lesson 12 - Numbers 31-50":{count:20,words:[["31","trentuno"],["32","trentadue"],["33","trentatre"],["34","trentaquattro"],["35","trentacinque"],["36","trentasei"],["37","trentasette"],["38","trentotto"],["39","trentanove"],["40","quaranta"],["41","quarantuno"],["42","quarantadue"],["43","quarantatre"],["44","quarantaquattro"],["45","quarantacinque"],["46","quarantasei"],["47","quarantasette"],["48","quarantotto"],["49","quarantanove"],["50","cinquanta"]],isNumbers:true},"Lesson 13.1 - Irregular -ARE Verbs":{count:19,words:[["to go","andare"],["to give","dare"],["to find","trovare"],["to stand","stare"],["to begin","cominciare"],["to do/make","fare"],["to drive","guidare"],["to forget","dimenticare"],["to meet","incontrare"],["to pay","pagare"],["to speak","parlare"],["to spend (time)","passare"],["to swim","nuotare"],["to teach","insegnare"],["to tell","raccontare"],["to think","pensare"],["to throw","lanciare"],["to bring","portare"],["to send","inviare"]],isNumbers:false},"Lesson 13.2 - Irregular -ERE Verbs":{count:22,words:[["to be","essere"],["to have","avere"],["to see","vedere"],["to drink","bere"],["to know (fact)","sapere"],["to want","volere"],["to run","correre"],["to sit","sedere"],["to lie down","giacere"],["to take","prendere"],["to write","scrivere"],["to fall","cadere"],["to break","rompere"],["to put","mettere"],["to read","leggere"],["to get","ottenere"],["to hold","tenere"],["to win","vincere"],["to choose","scegliere"]],isNumbers:false},"Lesson 13.3 - Irregular -IRE Verbs":{count:9,words:[["to come","venire"],["to eat","mangiare"],["to understand","capire"],["to say","dire"],["to sleep","dormire"],["to build","costruire"],["to hear","sentire"],["to leave","partire"]],isNumbers:false},"Lesson 15 - Physical Appearance":{count:38,words:[["Tall","alto"],["Short (height)","basso"],["Slim","snello"],["Fat","grasso"],["Muscular","muscoloso"],["Blonde","biondo"],["Brown-haired","castano"],["Black-haired","moro"],["Curly hair","ricci"],["Straight hair","lisci"],["Blue eyes","occhi azzurri"],["Brown eyes","occhi castani"],["Green eyes","occhi verdi"],["Beautiful","bello/bella"],["Handsome","bello"],["Ugly","brutto"],["Young","giovane"],["Old","vecchio"],["Beard","barba"],["Light-skinned","pelle chiara"],["Dark-skinned","pelle scura"],["Freckles","lentiggini"],["Wrinkles","rughe"],["Bald","calvo"],["Hairy (body)","peloso"],["Straight nose","naso dritto"],["Big nose","naso grande"],["Small nose","naso piccolo"],["Thin lips","labbra sottili"],["Full lips","labbra carnose"],["Broad shoulders","spalle larghe"],["Narrow shoulders","spalle strette"],["Tanned skin","pelle abbronzata"],["Pale skin","pelle pallida"],["Wavy hair","capelli mossi"],["Ponytail","coda di cavallo"],["Braids","trecce"],["Beard and mustache","barba e baffi"]],isNumbers:false},"Lesson 16 - Occupations":{count:25,words:[["Doctor","dottore/medico"],["Teacher","insegnante"],["Engineer","ingegnere"],["Lawyer","avvocato"],["Salesperson","commesso"],["Police officer","poliziotto"],["Firefighter","pompiere"],["Programmer","programmatore"],["Cook/Chef","cuoco"],["Journalist","giornalista"],["Nurse","infermiere/infermiera"],["Architect","architetto"],["Accountant","contabile"],["Pharmacist","farmacista"],["Driver","autista"],["Mechanic","meccanico"],["Scientist","scienziato"],["Dentist","dentista"],["Musician","musicista"],["Actor","attore/attrice"],["Artist","artista"],["Pilot","pilota"],["Farmer","contadino"],["Photographer","fotografo"],["Waiter/Waitress","cameriere/cameriera"]],isNumbers:false},"Lesson 17 - Sports":{count:30,words:[["Football/Soccer","calcio"],["Basketball","pallacanestro"],["Volleyball","pallavolo"],["Tennis","tennis"],["Swimming","nuoto"],["Running/Athletics","corsa/atletica"],["Ice hockey","hockey su ghiaccio"],["Skiing","sci"],["Cycling","ciclismo"],["Boxing","pugilato/boxe"],["Martial arts","arti marziali"],["Golf","golf"],["Table tennis","tennis da tavolo"],["Wrestling","lotta"],["Handball","pallamano"],["Baseball","baseball"],["Surfing","surf"],["Skating","pattinaggio"],["Horse riding","equitazione"],["Diving","immersione"],["Cricket","cricket"],["Rugby","rugby"],["Ballet","balletto"],["Bowling","bowling"],["Weightlifting","sollevamento pesi"],["Windsurfing","windsurf"],["Ice skating","pattinaggio su ghiaccio"],["Rowing","canottaggio"],["Archery","tiro con l'arco"],["Climbing","arrampicata"]],isNumbers:false},"Lesson 18 - Numbers 51-75":{count:25,words:[["51","cinquantuno"],["52","cinquantadue"],["53","cinquantatre"],["54","cinquantaquattro"],["55","cinquantacinque"],["56","cinquantasei"],["57","cinquantasette"],["58","cinquantotto"],["59","cinquantanove"],["60","sessanta"],["61","sessantuno"],["62","sessantadue"],["63","sessantatre"],["64","sessantaquattro"],["65","sessantacinque"],["66","sessantasei"],["67","sessantasette"],["68","sessantotto"],["69","sessantanove"],["70","settanta"],["71","settantuno"],["72","settantadue"],["73","settantatre"],["74","settantquattro"],["75","settantacinque"]],isNumbers:true},"Lesson 19 - Clothing":{count:42,words:[["Shirt","camicia"],["T-shirt","maglietta"],["Blouse","blusa"],["Sweater","maglione"],["Jacket","giacca"],["Coat","cappotto"],["Dress","vestito"],["Skirt","gonna"],["Pants","pantaloni"],["Shorts","pantaloncini"],["Shoes","scarpe"],["Boots","stivali"],["Sneakers","scarpe da ginnastica"],["Sandals","sandali"],["Hat/Cap","cappello"],["Scarf","sciarpa"],["Gloves","guanti"],["Belt","cintura"],["Socks","calze"],["Winter coat","cappotto invernale"],["Wool hat","berretto di lana"],["Snow boots","doposci"],["Swimsuit","costume da bagno"],["Sunglasses","occhiali da sole"],["Flip-flops","infradito"],["Tank top","canottiera"],["Suit","abito"],["Tie","cravatta"],["Blazer","blazer"],["High heels","tacchi alti"],["Evening dress","abito da sera"],["Black","nero"],["White","bianco"],["Red","rosso"],["Blue","blu"],["Green","verde"],["Cotton","cotone"],["Wool","lana"],["Leather","pelle"],["Silk","seta"],["Linen","lino"]],isNumbers:false},"Lesson 20 - Adverbs":{count:20,words:[["Quickly","velocemente"],["Slowly","lentamente"],["Always","sempre"],["Never","mai"],["Often","spesso"],["Sometimes","qualche volta"],["Rarely","raramente"],["Already","gia"],["Still","ancora"],["Yet","ancora"],["Soon","presto"],["Now","ora"],["Later","piu tardi"],["Today","oggi"],["Tomorrow","domani"],["Yesterday","ieri"],["Clearly","chiaramente"],["Together","insieme"],["Apart","separatamente"],["Forever","per sempre"]],isNumbers:false},"Lesson 21 - Animals":{count:20,words:[["Dog","cane"],["Cat","gatto"],["Horse","cavallo"],["Cow","mucca"],["Sheep","pecora"],["Pig","maiale"],["Goat","capra"],["Chicken","pollo"],["Duck","anatra"],["Bird","uccello"],["Rabbit","coniglio"],["Mouse","topo"],["Lion","leone"],["Tiger","tigre"],["Bear","orso"],["Elephant","elefante"],["Monkey","scimmia"],["Fox","volpe"],["Wolf","lupo"],["Deer","cervo"]],isNumbers:false},"Lesson 23 - Places in Town":{count:20,words:[["School","scuola"],["Hospital","ospedale"],["Bank","banca"],["Restaurant","ristorante"],["Library","biblioteca"],["Supermarket","supermercato"],["Cinema","cinema"],["Post office","posta"],["Police station","stazione di polizia"],["Park","parco"],["Museum","museo"],["Theatre","teatro"],["Hotel","hotel"],["Stadium","stadio"],["Church","chiesa"],["Pharmacy","farmacia"],["Bakery","panetteria"],["Butcher","macelleria"],["Market","mercato"],["Hairdresser","parrucchiere"]],isNumbers:false},"Lesson 24 - School Supplies":{count:20,words:[["Book","libro"],["Pen","penna"],["Pencil","matita"],["Eraser","gomma"],["Notebook","quaderno"],["Ruler","righello"],["Scissors","forbici"],["Backpack","zaino"],["Folder","cartella"],["Calculator","calcolatrice"],["Marker","pennarello"],["Chalk","gesso"],["Map","mappa"],["Highlighter","evidenziatore"],["Projector","proiettore"],["Laptop","portatile"],["Printer","stampante"],["USB stick","chiavetta usb"],["Schoolbag","cartella"],["Sharpener","temperino"]],isNumbers:false},"Lesson 25 - Transportation":{count:20,words:[["Car","macchina"],["Bus","autobus"],["Train","treno"],["Bicycle","bicicletta"],["Motorcycle","moto"],["Airplane","aereo"],["Boat","barca"],["Tram","tram"],["Taxi","taxi"],["Subway","metropolitana"],["Ferry","traghetto"],["Yacht","yacht"],["Hot air balloon","mongolfiera"],["Spaceship","astronave"],["Rickshaw","riscio"],["Gondola","gondola"],["Zeppelin","dirigibile"],["Rollerblades","pattini in linea"],["Canoe","canoa"],["Submarine","sottomarino"]],isNumbers:false}};
        let state = {lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};
        function generateQuestions(words,count,isNumbers){const q=[];if(isNumbers){words.forEach(([e,i])=>{q.push({question:`What is '${e}' in Italian? (Answer with the WORD)`,answer:i,displayAnswer:i});});words.forEach(([e,i])=>{q.push({question:`What number is '${i}'? (Answer with the NUMBER)`,answer:e,displayAnswer:e});});}else if(count<=20){words.forEach(([e,i])=>q.push({question:`Translate to Italian: '${e}'`,answer:i,displayAnswer:i}));words.forEach(([e,i])=>q.push({question:`Translate to English: '${i}'`,answer:e,displayAnswer:e}));words.forEach(([e,i])=>{const f=i[0]||"";const b="_".repeat(i.length-1);q.push({question:`'${e}' = '${f}${b}' - Complete the Italian word`,answer:i,displayAnswer:i});});}else{const t=Math.floor(words.length/3);words.slice(0,t).forEach(([e,i])=>q.push({question:`Translate to Italian: '${e}'`,answer:i,displayAnswer:i}));words.slice(t,t*2).forEach(([e,i])=>q.push({question:`Translate to English: '${i}'`,answer:e,displayAnswer:e}));words.slice(t*2).forEach(([e,i])=>{const f=i[0]||"";const b="_".repeat(i.length-1);q.push({question:`'${e}' = '${f}${b}'`,answer:i,displayAnswer:i});});}return q.sort(()=>Math.random()-0.5);}
        function generateReview(words,isNumbers){const size=Math.min(20,words.length);const sampled=[...words].sort(()=>Math.random()-0.5).slice(0,size);return sampled.map(([e,i])=>{if(isNumbers){return Math.random()>0.5?{question:`[GENERAL REVIEW] '${e}' in Italian?`,answer:i,displayAnswer:i}:{question:`[GENERAL REVIEW] What number is '${i}'?`,answer:e,displayAnswer:e};}else{return Math.random()>0.5?{question:`[GENERAL REVIEW] Translate: '${e}'`,answer:i,displayAnswer:i}:{question:`[GENERAL REVIEW] Translate: '${i}'`,answer:e,displayAnswer:e};}});}
        function showScreen(id){document.querySelectorAll('.container').forEach(e=>e.classList.add('hidden'));document.getElementById(id).classList.remove('hidden');}
        function startFirstLesson(){state.currentLessonIndex=0;startLesson(state.lessonNames[0]);}
        function startLesson(name){const l=lessonsData[name];state.currentLesson=name;state.questions=generateQuestions(l.words,l.count,l.isNumbers);state.currentQ=0;state.score={correct:0,total:0};state.mainQuestionsCorrect=0;state.isReview=false;updateTestScreen();showScreen('testScreen');}
        function updateTestScreen(){const q=state.questions[state.currentQ];const p=((state.currentQ+1)/state.questions.length)*100;document.getElementById('lessonTitle').textContent=state.isReview?'üîÑ GENERAL REVIEW':state.currentLesson;document.getElementById('lessonProgress').textContent=`Lesson ${state.completedLessons+1}/${state.lessonNames.length}`;document.getElementById('progressFill').style.width=p+'%';document.getElementById('questionNumber').textContent=`Question ${state.currentQ+1}/${state.questions.length}`;document.getElementById('currentScore').textContent=`Score: ${state.score.correct}/${state.score.total}`;document.getElementById('questionText').textContent=q.question;document.getElementById('overallProgress').textContent=`Overall Progress: ${state.allLessonsScore.correct}/${state.allLessonsScore.total} (${state.allLessonsScore.total>0?Math.round((state.allLessonsScore.correct/state.allLessonsScore.total)*100):0}%)`;document.getElementById('answerInput').value='';document.getElementById('answerInput').focus();document.getElementById('answerSection').classList.remove('hidden');document.getElementById('feedbackSection').classList.add('hidden');}
        function handleEnter(e){if(e.key==='Enter'&&document.getElementById('answerInput').value)checkAnswer();}
        function checkAnswer(){const a=document.getElementById('answerInput').value;if(!a)return;const q=state.questions[state.currentQ];const c=normalizeText(a)===normalizeText(q.answer);state.score.correct+=c?1:0;state.score.total+=1;state.allLessonsScore.correct+=c?1:0;state.allLessonsScore.total+=1;if(!state.isReview&&state.currentQ<state.questions.length){if(c)state.mainQuestionsCorrect++;}document.getElementById('feedbackBox').className=c?'feedback feedback-correct':'feedback feedback-wrong';document.getElementById('feedbackIcon').textContent=c?'‚úì':'‚úó';document.getElementById('feedbackText').textContent=c?'Correct!':'Wrong!';document.getElementById('correctAnswer').innerHTML=c?'':`Correct answer: <strong>${q.displayAnswer}</strong>`;document.getElementById('answerSection').classList.add('hidden');document.getElementById('feedbackSection').classList.remove('hidden');}
        function nextQuestion(){if(state.currentQ<state.questions.length-1){state.currentQ++;updateTestScreen();}else{if(!state.isReview){showLessonComplete();}else{state.completedLessons++;showReviewComplete();}}}
        function showLessonComplete(){const p=(state.mainQuestionsCorrect/state.questions.length)*100;document.getElementById('mainScore').textContent=`${state.mainQuestionsCorrect}/${state.questions.length}`;document.getElementById('mainPercentage').textContent=p.toFixed(1)+'%';showScreen('lessonCompleteScreen');}
        function startReview(){const l=lessonsData[state.currentLesson];state.questions=generateReview(l.words,l.isNumbers);state.currentQ=0;state.isReview=true;updateTestScreen();showScreen('testScreen');}
        function showReviewComplete(){const rc=state.score.correct-state.mainQuestionsCorrect;const tc=state.score.correct;const tq=state.score.total;const p=(tc/tq)*100;document.getElementById('completedLessonName').textContent=state.currentLesson;document.getElementById('mainQScore').textContent=state.mainQuestionsCorrect;document.getElementById('reviewScore').textContent=rc;document.getElementById('totalScore').textContent=`${tc}/${tq}`;document.getElementById('totalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('totalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâ Excellent!':p>=70?'üëè Very Good!':p>=50?'üëç Good!':'üìö Keep studying!';document.getElementById('performanceMessage').textContent=m;const last=state.currentLessonIndex===state.lessonNames.length-1;document.getElementById('continueButtonText').textContent=last?'View Final Results':`Continue to ${state.lessonNames[state.currentLessonIndex+1]}`;document.getElementById('lessonsCompleted').textContent=`Completed: ${state.completedLessons}/${state.lessonNames.length} lessons`;showScreen('reviewCompleteScreen');}
        function continueToNext(){state.currentLessonIndex++;if(state.currentLessonIndex<state.lessonNames.length){startLesson(state.lessonNames[state.currentLessonIndex]);}else{showFinalResults();}}
        function showFinalResults(){const p=(state.allLessonsScore.correct/state.allLessonsScore.total)*100;document.getElementById('totalLessons').textContent=state.lessonNames.length;document.getElementById('finalScore').textContent=`${state.allLessonsScore.correct}/${state.allLessonsScore.total}`;document.getElementById('finalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('finalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâüéâüéâ EXCELLENT! You\'re amazing at Italian! üéâüéâüéâ':p>=70?'üëèüëèüëè VERY GOOD! Great performance! üëèüëèüëè':p>=50?'üëçüëç GOOD! Keep going! üëçüëç':'üìöüìö Keep studying! You can do it! üìöüìö';document.getElementById('finalMessage').textContent=m;showScreen('finalScreen');}
        function goHome(){state={lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};showScreen('homeScreen');}
    </script>
</body>
</html>