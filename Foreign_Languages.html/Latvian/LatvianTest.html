<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latvian Test System</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; min-height: 100vh; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; border-radius: 20px; padding: 40px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); }
        .hidden { display: none !important; }
        h1 { color: #2d3748; font-size: 2.5em; text-align: center; margin-bottom: 10px; }
        h2 { color: #4a5568; font-size: 1.8em; margin-bottom: 20px; }
        .subtitle { color: #718096; text-align: center; font-size: 1.2em; margin-bottom: 30px; }
        .info-box { background: #f0f4ff; border-radius: 12px; padding: 25px; margin-bottom: 25px; }
        .info-box h3 { color: #5a67d8; margin-bottom: 15px; }
        .info-box ul { list-style: none; color: #2d3748; }
        .info-box li { margin: 10px 0; padding-left: 25px; position: relative; }
        .info-box li::before { content: "‚Ä¢"; color: #667eea; font-weight: bold; position: absolute; left: 0; }
        .btn { width: 100%; padding: 18px; border: none; border-radius: 12px; font-size: 1.1em; font-weight: 600; cursor: pointer; transition: all 0.3s; margin: 10px 0; }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px rgba(118, 75, 162, 0.4); }
        .btn-success { background: linear-gradient(135deg, #48bb78 0%, #38a169 100%); color: white; }
        .btn:disabled { background: #cbd5e0; cursor: not-allowed; }
        .progress-bar { width: 100%; height: 12px; background: #e2e8f0; border-radius: 10px; overflow: hidden; margin: 10px 0; }
        .progress-fill { height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); transition: width 0.3s; }
        .progress-info { display: flex; justify-content: space-between; color: #718096; font-size: 0.9em; }
        .question-box { background: #f0f4ff; border-radius: 12px; padding: 30px; margin: 20px 0; }
        .question-text { color: #2d3748; font-size: 1.3em; font-weight: 500; }
        input[type="text"] { width: 100%; padding: 18px; border: 2px solid #cbd5e0; border-radius: 12px; font-size: 1.1em; margin: 15px 0; }
        input[type="text"]:focus { outline: none; border-color: #667eea; }
        .feedback { border-radius: 12px; padding: 25px; margin: 20px 0; display: flex; align-items: center; }
        .feedback-correct { background: #c6f6d5; color: #22543d; }
        .feedback-wrong { background: #fed7d7; color: #742a2a; }
        .feedback-icon { font-size: 2em; margin-right: 15px; }
        .feedback-text { font-size: 1.2em; font-weight: 600; }
        .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 25px 0; }
        .stat-card { background: white; border-radius: 12px; padding: 25px; text-align: center; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .stat-label { color: #718096; font-size: 0.9em; margin-bottom: 10px; }
        .stat-value { font-size: 2.5em; font-weight: bold; }
        .result-card { background: linear-gradient(135deg, #f0f4ff 0%, #e9d8fd 100%); border-radius: 15px; padding: 30px; text-align: center; margin: 25px 0; }
        .score-big { font-size: 4em; font-weight: bold; margin: 15px 0; }
        .icon { width: 80px; height: 80px; margin: 20px auto; background: linear-gradient(135deg, #9f7aea 0%, #805ad5 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 2.5em; }
        .overall-stats { background: #f7fafc; border-radius: 12px; padding: 15px; text-align: center; margin-top: 20px; color: #718096; font-size: 0.9em; }
    </style>
</head>
<body>
    <div id="homeScreen" class="container">
        <h1>üá±üáª Latvian Test System</h1>
        <p class="subtitle">Comprehensive Learning + Various Question Types + General Review</p>
        <div class="info-box">
            <h3>How it works:</h3>
            <ul><li>Complete all 25 lessons in order</li><li>Each lesson has multiple question types</li><li>General review after each lesson</li><li>Track your progress across all lessons</li></ul>
        </div>
        <button class="btn btn-primary" onclick="startFirstLesson()">Start Test - Begin with Lesson 1</button>
    </div>
    <div id="testScreen" class="container hidden">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;"><h2 id="lessonTitle"></h2><span id="lessonProgress" style="color: #718096;"></span></div>
        <div class="progress-bar"><div id="progressFill" class="progress-fill"></div></div>
        <div class="progress-info"><span id="questionNumber"></span><span id="currentScore"></span></div>
        <div class="question-box"><div class="question-text" id="questionText"></div></div>
        <div id="answerSection">
            <input type="text" id="answerInput" placeholder="Type your answer..." onkeypress="handleEnter(event)">
            <button class="btn btn-primary" onclick="checkAnswer()">Submit Answer</button>
        </div>
        <div id="feedbackSection" class="hidden">
            <div id="feedbackBox" class="feedback"><div class="feedback-icon" id="feedbackIcon"></div><div><div class="feedback-text" id="feedbackText"></div><div id="correctAnswer" style="margin-top: 10px;"></div></div></div>
            <button class="btn btn-success" onclick="nextQuestion()">Next Question ‚Üí</button>
        </div>
        <div class="overall-stats"><span id="overallProgress"></span></div>
    </div>
    <div id="lessonCompleteScreen" class="container hidden">
        <div class="icon">üèÜ</div><h1>Main Questions Complete!</h1>
        <div class="result-card"><div class="stat-label">Score</div><div class="score-big" id="mainScore"></div><div id="mainPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div></div>
        <p style="text-align: center; font-size: 1.2em; color: #4a5568; margin: 25px 0;">Now it's time for the General Review!</p>
        <button class="btn btn-primary" onclick="startReview()">Start General Review</button>
    </div>
    <div id="reviewCompleteScreen" class="container hidden">
        <div class="icon">üéâ</div><h1>Lesson Complete!</h1><h2 id="completedLessonName" style="text-align: center; color: #718096;"></h2>
        <div class="result-card">
            <div class="stats-grid"><div class="stat-card"><div class="stat-label">Main Questions</div><div class="stat-value" id="mainQScore" style="color: #667eea;"></div></div><div class="stat-card"><div class="stat-label">General Review</div><div class="stat-value" id="reviewScore" style="color: #764ba2;"></div></div></div>
            <div class="stat-card" style="margin-top: 20px;"><div class="stat-label">Total Score</div><div class="stat-value" id="totalScore"></div><div id="totalPercentage" style="font-size: 2em; font-weight: bold; margin-top: 10px;"></div><div id="performanceMessage" style="font-size: 1.2em; font-weight: 600; margin-top: 10px;"></div></div>
        </div>
        <button class="btn btn-primary" onclick="continueToNext()"><span id="continueButtonText"></span> ‚Üí</button>
        <div style="text-align: center; color: #718096; margin-top: 15px;"><span id="lessonsCompleted"></span></div>
    </div>
    <div id="finalScreen" class="container hidden">
        <div style="font-size: 4em; margin-bottom: 20px; text-align: center;">üéä</div><h1 style="text-align: center;">ALL LESSONS COMPLETED!</h1><h2 style="text-align: center; color: #764ba2;">FINAL RESULTS</h2>
        <div class="result-card">
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Lessons</div><div style="font-size: 3em; font-weight: bold;" id="totalLessons"></div></div>
            <div style="margin-bottom: 30px;"><div class="stat-label">Total Score</div><div style="font-size: 4em; font-weight: bold; color: #764ba2;" id="finalScore"></div></div>
            <div class="stat-card"><div class="stat-label">Success Rate</div><div class="score-big" id="finalPercentage"></div><div id="finalMessage" style="font-size: 1.5em; font-weight: bold; margin-top: 15px;"></div></div>
        </div>
        <p style="text-align: center; font-size: 1.3em; color: #48bb78; font-weight: 600; margin: 25px 0;">Congratulations!</p>
        <button class="btn btn-primary" onclick="goHome()">üè† Back to Home</button>
    </div>
    <script>
        function normalizeText(text) { return text.toLowerCase().trim().normalize('NFD').replace(/[\u0300-\u036f]/g, ''); }
        const lessonsData = {"Lesson 1 - Numbers 1-10":{count:10,words:[["1","viens"],["2","divi"],["3","tris"],["4","cetri"],["5","pieci"],["6","sesi"],["7","septini"],["8","astoni"],["9","devini"],["10","desmit"]],isNumbers:true},"Lesson 2 - Greetings":{count:18,words:[["Hello","sveiki"],["How are you?","ka jums klajas"],["Nice to meet you","prieks iepazities"],["See you tomorrow","tiksimies rit"],["Good morning","labrit"],["Good afternoon","labdien"],["Good evening","labrakar"],["Good night","ar labu nakti"],["What is your name?","kads ir jusu vards"],["My name is","mani sauc"],["Where do you live?","kur tu dzivo"],["Where are you from?","no kurienes jus esat"],["Nice to see you","patikami jus redzet"],["Have a nice day","novelu jums jauku dienu"],["See you later","tiksimies velak"],["Goodbye","uz redzesanos"],["Please","ludzu"],["Thank you","paldies"]],isNumbers:false},"Lesson 3.1 - Regular -AT Verbs":{count:7,words:[["to speak","runat"],["to work","stradat"],["to think","domat"],["to sing","dziedat"],["to try","meginat"],["to reflect","pardomat"],["to invite","uzaicinat"]],isNumbers:false},"Lesson 3.2 - Regular -IT Verbs":{count:7,words:[["to read","lasit"],["to smile","smaidit"],["to teach","macit"],["to write","uzrakstit"],["to send","nosutit"],["to note","pierakstit"],["to look at","apskatit"]],isNumbers:false},"Lesson 3.3 - Regular -OT Verbs":{count:7,words:[["to live","dzivot"],["to cook","gatavot"],["to travel","celot"],["to observe","verot"],["to explain","izskaidrot"],["to explain (alt)","paskaidrot"],["to monitor","noverot"]],isNumbers:false},"Lesson 3.4 - Regular -TIES Verbs":{count:4,words:[["to watch","skatities"],["to learn","macities"],["to listen","klausities"],["to sit down","apsesties"]],isNumbers:false},"Lesson 3.5 - Regular -ET Verbs":{count:7,words:[["to swim","peldet"],["to search","meklet"],["to wish","velet"],["to draw","zimet"],["to sleep","gulet"],["to attend","apmeklet"],["to answer","atbildet"]],isNumbers:false},"Lesson 3.6 - Regular -T Verbs":{count:7,words:[["to ask","lugt"],["to understand","saprast"],["to drive/go","braukt"],["to feel","sajust"],["to close","izzvert"],["to assign","uzdot"],["to interrupt","partraukt"]],isNumbers:false},"Lesson 4 - Adjectives":{count:35,words:[["Happy","laimigs"],["Sad","bedigs"],["Angry","dusmigs"],["Afraid","nobijies"],["Joy","prieks"],["Surprised","parsteigts"],["Calm","mierigs"],["Bored","garlaikots"],["Easy","viegli"],["Difficult","gruti"],["Bad","slikts"],["Good","labs"],["Noisy","skals"],["Quiet","kluss"],["Strong","specigs"],["Weak","vajs"],["Hard","ciets"],["Soft","miksts"],["More","vairak"],["Less","mazak"],["Clean","tirs"],["Dirty","netirs"],["New","jauns"],["Big","liels"],["Small","mazs"],["Young","jauns"],["Old","vecs"],["Skinny","tievs"],["Fat","resns"],["Pretty","glits"],["Ugly","neglits"],["Thick","biezs"],["Thin","plans"],["Rough","rupjs"],["Smooth","gluds"]],isNumbers:false},"Lesson 5.1 - Days":{count:11,words:[["The days of the week","nedelas dienas"],["Day","diena"],["Week","nedela"],["Monday","pirmdiena"],["Tuesday","otrdiena"],["Wednesday","tresdiena"],["Thursday","ceturtdiena"],["Friday","piektdiena"],["Saturday","sestdiena"],["Sunday","svetdiena"],["Weekend","nedelas nogale"]],isNumbers:false},"Lesson 5.2 - Months":{count:15,words:[["The months of the year","gada menesi"],["Month","menesis"],["Year","gads"],["January","janvaris"],["February","februaris"],["March","marts"],["April","aprilis"],["May","maijs"],["June","junijs"],["July","julijs"],["August","augusts"],["September","septembris"],["October","oktobris"],["November","novembris"],["December","decembris"]],isNumbers:false},"Lesson 6 - Seasons & Weather":{count:23,words:[["Seasons","gadalaiki"],["Winter","ziema"],["Summer","vasara"],["Spring","pavasaris"],["Autumn","rudens"],["Sky","debesis"],["Cloud","makonis"],["Rainbow","varaviksne"],["Cold","auksts"],["Hot","karsts"],["It is hot","ir karsts"],["It is cold","ir auksts"],["It is sunny","ir saulains"],["It is cloudy","ir makonains"],["It is humid","ir mitrs"],["It is raining","list"],["It is snowing","snieg"],["It is windy","ir vejains"],["How is the weather?","kads ir laiks"],["Good weather","labs laiks"],["Bad weather","slikts laiks"],["What is the temperature?","kada ir temperatura"],["It is 24 degrees","ara ir 24 gradi"]],isNumbers:false},"Lesson 7 - Colors":{count:14,words:[["Black","melns"],["Blue","zils"],["Brown","bruns"],["Green","zals"],["Orange","oranzs"],["Purple","purpurs"],["Red","sarkans"],["White","balts"],["Yellow","dzeltens"],["Gray","peleks"],["Gold","zelts"],["Silver","sudrabs"],["What color is it?","kada krasa tas ir"],["The color is","krasa ir"]],isNumbers:false},"Lesson 8.1 - Family":{count:35,words:[["Mother","mate"],["Father","tevs"],["Brother","bralis"],["Sister","masa"],["Son","dels"],["Daughter","meita"],["Parents","vecaki"],["Children","berni"],["Child","berns"],["Stepmother","pamate"],["Stepfather","patevs"],["Stepsister","pusmasa"],["Stepbrother","pusbralis"],["Son-in-law","znots"],["Daughter-in-law","vedekla"],["Wife","sieva"],["Husband","virs"],["Grandparents","vecvecaki"],["Grandfather","vectevs"],["Grandmother","vecmamina"],["Grandson","mazdels"],["Granddaughter","mazmeita"],["Grandchildren","mazberni"],["Grandchild","mazberns"],["Aunt","tante"],["Uncle","tevocis"],["Cousin (female)","masica"],["Cousin (male)","bralens"],["Nephew","braladels"],["Niece","bralameita"],["Father-in-law","viratevs"],["Mother-in-law","viramate"],["Brother-in-law","svainis"],["Sister-in-law","svaine"],["Relative","radinieks"]],isNumbers:false},"Lesson 8.2 - Friends":{count:14,words:[["Miss","jaunkundze"],["Boy","zens"],["Girl","meitene"],["Baby","mazulis"],["Woman","sieviete"],["Man","virietis"],["Friend (male)","draugs"],["Friend (female)","draudzene"],["Boyfriend","draugs"],["Girlfriend","draudzene"],["Gentleman","kungs"],["Lady","dama"],["Neighbor (male)","kaimins"],["Neighbor (female)","kaiminiene"]],isNumbers:false},"Lesson 9 - Numbers 11-30":{count:20,words:[["11","vienpadsmit"],["12","divpadsmit"],["13","trispadsmit"],["14","cetrpadsmit"],["15","piecpadsmit"],["16","sespadsmit"],["17","septinpadsmit"],["18","astonpadsmit"],["19","devinpadsmit"],["20","divdesmit"],["21","divdesmit viens"],["22","divdesmit divi"],["23","divdesmit tris"],["24","divdesmit cetri"],["25","divdesmit pieci"],["26","divdesmit sesi"],["27","divdesmit septini"],["28","divdesmit astoni"],["29","divdesmit devini"],["30","trisdesmit"]],isNumbers:true},"Lesson 10.1 - Prepositions":{count:36,words:[["For","par"],["From","no"],["In","ieksa"],["Inside","ieksa"],["Into","ieksa"],["Near","tuvu"],["Of","no"],["Out","ara"],["Outside","arpus"],["To","uz"],["Under","zem"],["With","ar"],["Without","bez"],["Above","virs"],["Across","pari"],["After","pec"],["Against","pret"],["Along","lidzas"],["Around","apkart"],["At","pie"],["Behind","aiz"],["Below","apaksa"],["Beside","blakus"],["Between","starp"],["By","blakus"],["During","laika"],["Except","iznemot"],["And","un"],["Because","jo"],["But","bet"],["Or","vai"],["Everywhere","visur"],["Everyone","ikviens"],["Everything","viss"],["Few","maz"],["Some","dazi"],["Many","daudz"]],isNumbers:false},"Lesson 10.2 - Useful Words":{count:29,words:[["Question","jautajums"],["Answer","atbilde"],["Truth","patiesiba"],["Lie","meli"],["Nothing","nekas"],["Something","kaut kas"],["Same","tas pats"],["Different","atskirigs"],["Pull","vilkt"],["Push","stumt"],["Long","gars"],["Short","iss"],["Cold","auksts"],["Hot","karsts"],["Light","gaiss"],["Dark","tumss"],["Wet","slapjs"],["Dry","sauss"],["Empty","tukss"],["Full","pilns"],["How?","ka"],["What?","kas"],["When?","kad"],["Where?","kur"],["Which?","kurs"],["Who?","kas"],["Why?","kapec"],["How long?","cik ilgi"],["How much?","cik daudz"]],isNumbers:false},"Lesson 11.1 - Drinks":{count:9,words:[["Coffee","kafija"],["Tea","teja"],["Soft drink","gazets dzariens"],["Water","udens"],["Lemonade","limonade"],["Juice","sula"],["Orange juice","apelsinu sula"],["I would like a glass of water please","es gribetu glazi udens ludzu"],["With ice","ar ledu"]],isNumbers:false},"Lesson 11.2 - Dairy Products":{count:19,words:[["Milk","piens"],["Ice cream","saldejums"],["Butter","sviests"],["Cheese","siers"],["Cottage cheese","biezpiens"],["Cream","krems"],["Sour cream","skabais krejums"],["Yogurt","jogurts"],["Eggs","olas"],["Whipping cream","putukrejums"],["Bakery","maiznica"],["Baguette","bagete"],["Doughnut","virtulis"],["Cookie","cepums"],["Roll","rullitis"],["Dessert","deserts"],["Cake","kuka"],["Bread","maize"],["Pie","pirags"]],isNumbers:false},"Lesson 11.3 - Meats":{count:13,words:[["Beef","liellopu gala"],["Veal","tela gala"],["Ham","skinkis"],["Chicken","calis"],["Turkey","titars"],["Duck","pile"],["Bacon","bekons"],["Pork","cukgala"],["Filet mignon","liellopa galas medaljons"],["Sausage","desa"],["Lamb chop","jera karbonade"],["Pork chop","karbonade"],["Meat","gala"]],isNumbers:false},"Lesson 11.4 - Seafoods":{count:20,words:[["Fish","zivs"],["Shellfish","vezveidigde"],["Bass","asaris"],["Salmon","lasis"],["Lobster","omars"],["Crab","krabis"],["Mussel","gliemene"],["Oyster","austere"],["Cod","menca"],["Clam","gliemezis"],["Shrimp","garnele"],["Tuna","tuncis"],["Trout","forele"],["Sole","zole"],["Shark","haizivs"],["Carp","karpa"],["Tilapia","tilapija"],["Eel","zutis"],["Catfish","sams"],["Swordfish","zobenzivs"]],isNumbers:false},"Lesson 11.5 - Herbs & Spices":{count:17,words:[["Salt","sals"],["Pepper","pipari"],["Caraway","kimenes"],["Garlic","kiploki"],["Basil","baziliks"],["Coriander","koriandrs"],["Fennel","fenhelis"],["Marjoram","majorans"],["Oregano","oregano"],["Parsley","petersili"],["Rosemary","rozmarins"],["Sage","salvija"],["Thyme","timians"],["Nutmeg","muskatrieksts"],["Paprika","paprika"],["Cayenne","kajenas pipari"],["Ginger","ingvers"]],isNumbers:false},"Lesson 11.6 - Vegetables":{count:28,words:[["Celery","selerijas"],["Eggplant","baklazans"],["Zucchini","cukini"],["Onion","sipols"],["Spinach","spinati"],["Salad","salati"],["Green beans","paksu pupinas"],["Cucumber","gurkis"],["Radish","rediss"],["Cabbage","kaposti"],["Mushrooms","senes"],["Lettuce","salati"],["Corn","kukuruza"],["Potatoes","kartupeli"],["Tomato","tomats"],["Carrot","burkans"],["Plantain","plantans"],["Beans","pupas"],["Leek","puravi"],["Lotus root","lotosa saknes"],["Bamboo shoot","bambusa atvases"],["Artichoke","artisoks"],["Asparagus","spargeli"],["Brussels sprouts","briseles kaposti"],["Broccoli","brokoli"],["Peas","zirni"],["Cauliflower","ziedkaposti"],["Chili pepper","cili pipari"]],isNumbers:false},"Lesson 11.7 - Fruits":{count:27,words:[["Cherries","kirsi"],["Raspberries","avenes"],["Blueberries","mellenes"],["Strawberries","zemenes"],["Lemon","citrons"],["Lime","laims"],["Apple","abols"],["Orange","apelsins"],["Pear","bumbieris"],["Banana","banans"],["Grapes","vinogas"],["Grapefruit","greipfruts"],["Watermelon","arbuzs"],["Pineapple","ananass"],["Plum","plume"],["Peach","persiks"],["Mango","mango"],["Apricot","aprikoze"],["Pomegranate","granatabols"],["Persimmon","hurma"],["Kiwi","kivi"],["Litchi","kiniesu plumes"],["Longan","longans"],["Balsam pear","balzambumbieris"],["Passion fruit","marakuja"],["Avocado","avokado"],["Coconut","kokosrieksts"]],isNumbers:false},"Lesson 12 - Numbers 31-50":{count:20,words:[["31","trisdesmit viens"],["32","trisdesmit divi"],["33","trisdesmit tris"],["34","trisdesmit cetri"],["35","trisdesmit pieci"],["36","trisdesmit sesi"],["37","trisdesmit septini"],["38","trisdesmit astoni"],["39","trisdesmit devini"],["40","cetrdesmit"],["41","cetrdesmit viens"],["42","cetrdesmit divi"],["43","cetrdesmit tris"],["44","cetrdesmit cetri"],["45","cetrdesmit pieci"],["46","cetrdesmit sesi"],["47","cetrdesmit septini"],["48","cetrdesmit astoni"],["49","cetrdesmit devini"],["50","piecdesmit"]],isNumbers:true},"Lesson 13 - Irregular Verbs":{count:47,words:[["to be","but"],["to go","iet"],["can/be able to","varet"],["to do","darit"],["to drive/go","braukt"],["to eat","est"],["to come","nakt"],["to give","dot"],["to want","gribet"],["to start","sakt"],["to know","zinat"],["to say","teikt"],["to understand","saprast"],["to put","likt"],["to find","atrast"],["to sit","sedet"],["to call","zvanit"],["to help","palidzet"],["to forget","aizmirst"],["to answer","atbildet"],["to take","nemt"],["to run","skriet"],["to become","klut"],["to sing","dziedat"],["to hide","paslept"],["to continue","turpinat"],["to explain","paskaidrot"],["to wait for","sagaidit"],["to dream","sapnot"],["to send","nosutit"],["to stop","apstaties"],["to climb","uzkapt"],["to choose","izveleties"],["to win","uzvaret"],["to lose","zaudet"],["to burn","degt"],["to sit down","apsesties"],["to take (quickly)","panemt"],["to assign","uzdot"],["to solve","risinat"],["to save (rescue)","glabt"],["to close","aizvert"],["to prepare","pagatavot"],["to build","uzbuvets"],["to decorate","izrotat"],["to gather","sapulcet"],["to compose","saceret"]],isNumbers:false},"Lesson 15 - Physical Appearance":{count:38,words:[["Tall","gars"],["Short (height)","iss"],["Slim","slaids"],["Fat","resns"],["Muscular","muskulots"],["Blonde","blonds"],["Brown-haired","bruni mati"],["Black-haired","melni mati"],["Curly hair","cirtaini mati"],["Straight hair","taisni mati"],["Blue eyes","zilas acis"],["Brown eyes","brunas acis"],["Green eyes","zalas acis"],["Beautiful","skaists"],["Handsome","izskatigs"],["Ugly","neglits"],["Young","jauns"],["Old","vecs"],["Beard","barda"],["Light-skinned","gaisa ada"],["Dark-skinned","tumsa ada"],["Freckles","vasaras raibumi"],["Wrinkles","krunkas"],["Bald","kails"],["Hairy (body)","spalvains"],["Straight nose","taisns deguns"],["Big nose","liels deguns"],["Small nose","mazs deguns"],["Thin lips","planas lupas"],["Full lips","pilnas lupas"],["Broad shoulders","plati pleci"],["Narrow shoulders","sauri pleci"],["Tanned skin","iedegusi ada"],["Pale skin","bala ada"],["Wavy hair","vilnaini mati"],["Ponytail","zirgaste"],["Braids","bizites"],["Beard and mustache","barda un usas"]],isNumbers:false},"Lesson 16 - Occupations":{count:25,words:[["Doctor","arsts"],["Teacher","skolotajs"],["Engineer","inzenieris"],["Lawyer","jurists"],["Salesperson","pardevejas"],["Police officer","policists"],["Firefighter","ugunsdzesejs"],["Programmer","programmetajs"],["Cook/Chef","pavars"],["Journalist","zurnalists"],["Nurse","medmasa"],["Architect","arhitekts"],["Accountant","gramatvedis"],["Pharmacist","farmaceits"],["Driver","vaditajs"],["Mechanic","mehanikis"],["Scientist","zinatnieks"],["Dentist","zobarsts"],["Musician","muzikis"],["Actor","aktieris"],["Artist","maksliniekas"],["Pilot","pilots"],["Farmer","zemnieks"],["Photographer","fotografs"],["Waiter/Waitress","viesmilis"]],isNumbers:false},"Lesson 17 - Sports":{count:30,words:[["Football/Soccer","futbols"],["Basketball","basketbols"],["Volleyball","volejbols"],["Tennis","teniss"],["Swimming","peldesana"],["Running/Athletics","skrlesana/vieglatletika"],["Ice hockey","hokejs"],["Skiing","slepo≈°ana"],["Cycling","ritenbraksana"],["Boxing","bokss"],["Martial arts","cinas makslas"],["Golf","golfs"],["Table tennis","galda teniss"],["Wrestling","cina"],["Handball","handbols"],["Baseball","beisbols"],["Surfing","serfosana"],["Skating","slido≈°ana"],["Horse riding","jasana"],["Diving","leksana udeni"],["Cricket","krikets"],["Rugby","regbijs"],["Ballet","balets"],["Bowling","boulinga"],["Weightlifting","svarcelsana"],["Windsurfing","vindserfings"],["Ice skating","slido≈°ana"],["Rowing","akademiskais airesana"],["Archery","loka sausana"],["Climbing","kapsana"]],isNumbers:false},"Lesson 18 - Numbers 51-75":{count:25,words:[["51","piecdesmit viens"],["52","piecdesmit divi"],["53","piecdesmit tris"],["54","piecdesmit cetri"],["55","piecdesmit pieci"],["56","piecdesmit sesi"],["57","piecdesmit septini"],["58","piecdesmit astoni"],["59","piecdesmit devini"],["60","sesdesmit"],["61","sesdesmit viens"],["62","sesdesmit divi"],["63","sesdesmit tris"],["64","sesdesmit cetri"],["65","sesdesmit pieci"],["66","sesdesmit sesi"],["67","sesdesmit septini"],["68","sesdesmit astoni"],["69","sesdesmit devini"],["70","septindesmit"],["71","septindesmit viens"],["72","septindesmit divi"],["73","septindesmit tris"],["74","septindesmit cetri"],["75","septindesmit pieci"]],isNumbers:true},"Lesson 19 - Clothing":{count:42,words:[["Shirt","krekls"],["T-shirt","t-krekls"],["Blouse","bluze"],["Sweater","dzemperis"],["Jacket","jaka"],["Coat","metelis"],["Dress","kleita"],["Skirt","svarki"],["Pants","bikses"],["Shorts","sorti"],["Shoes","kurpes"],["Boots","zabaki"],["Sneakers","kedas"],["Sandals","sandales"],["Hat/Cap","cepure"],["Scarf","salle"],["Gloves","cimdi"],["Belt","josta"],["Socks","zekes"],["Winter coat","ziemas metelis"],["Wool hat","vilnas cepure"],["Snow boots","sniega zabaki"],["Swimsuit","peldkostims"],["Sunglasses","saulesbrilles"],["Flip-flops","ieslucenes"],["Tank top","tops"],["Suit","uzvalks"],["Tie","kaklasaite"],["Blazer","zakete"],["High heels","augstpapezu kurpes"],["Evening dress","vakarkleita"],["Black","melns"],["White","balts"],["Red","sarkans"],["Blue","zils"],["Green","zals"],["Cotton","kokvilna"],["Wool","vilna"],["Leather","ada"],["Silk","zids"],["Linen","lina"]],isNumbers:false},"Lesson 20 - Adverbs":{count:20,words:[["Quickly","atri"],["Slowly","lenam"],["Always","vienmer"],["Never","nekad"],["Often","biezi"],["Sometimes","dazreiz"],["Rarely","reti"],["Already","jau"],["Still","vel joprojam"],["Yet","vel"],["Soon","driz"],["Now","tagad"],["Later","velak"],["Today","sodien"],["Tomorrow","rit"],["Yesterday","vakar"],["Clearly","skaidri"],["Together","kopa"],["Apart","skitri"],["Forever","uz visiem laikiem"]],isNumbers:false},"Lesson 21 - Animals":{count:20,words:[["Dog","suns"],["Cat","kakis"],["Horse","zirgs"],["Cow","govs"],["Sheep","aita"],["Pig","cuka"],["Goat","kaza"],["Chicken","vista"],["Duck","pile"],["Bird","putns"],["Rabbit","truss"],["Mouse","pele"],["Lion","lauva"],["Tiger","tigeris"],["Bear","lacis"],["Elephant","zilonis"],["Monkey","pertikis"],["Fox","lapsa"],["Wolf","vilks"],["Deer","briezi"]],isNumbers:false},"Lesson 23 - Places in Town":{count:20,words:[["School","skola"],["Hospital","slimnica"],["Bank","banka"],["Restaurant","restorans"],["Library","biblioteka"],["Supermarket","lielveikals"],["Cinema","kinoteatris"],["Post office","pasta nodala"],["Police station","policijas iecirknis"],["Park","parks"],["Museum","muzejs"],["Theatre","teatris"],["Hotel","viesnica"],["Stadium","stadions"],["Church","baznica"],["Pharmacy","aptieka"],["Bakery","maiznica"],["Butcher","galas veikals"],["Market","tirgus"],["Hairdresser","frizieris"]],isNumbers:false},"Lesson 24 - School Supplies":{count:15,words:[["Whiteboard","balta tafele"],["Compass","krausts"],["Protractor","traktaktors"],["Binder","segmasina"],["Pen holder","pildspalvu turetajs"],["Sticky notes","piezimju lapinas"],["Projector","projektors"],["Chalkboard","tafele"],["Schoolbag","skolas soma"],["Clipboard","platforma"],["Hole punch","perforators"],["Tape","lente"],["Stapler","skavotajs"],["Laptop","klepjdators"],["Printer","printeris"]],isNumbers:false},"Lesson 25 - Transportation":{count:20,words:[["Car","automasina"],["Bus","autobuss"],["Train","vilciens"],["Bicycle","velosipeds"],["Motorcycle","motocikls"],["Airplane","lidmasina"],["Boat","laiva"],["Tram","tramvajs"],["Taxi","taksometrs"],["Subway","metro"],["Ferry","pramis"],["Yacht","jahta"],["Hot air balloon","gaisa balons"],["Spaceship","kosmosa kugis"],["Rickshaw","riksa"],["Gondola","gondola"],["Zeppelin","cepelins"],["Rollerblades","skrituslidas"],["Canoe","kanoe laiva"],["Submarine","zemudene"]],isNumbers:false}};
        let state = {lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};
        function generateQuestions(words,count,isNumbers){const q=[];if(isNumbers){words.forEach(([e,l])=>{q.push({question:`What is '${e}' in Latvian? (Answer with the WORD)`,answer:l,displayAnswer:l});});words.forEach(([e,l])=>{q.push({question:`What number is '${l}'? (Answer with the NUMBER)`,answer:e,displayAnswer:e});});}else if(count<=20){words.forEach(([e,l])=>q.push({question:`Translate to Latvian: '${e}'`,answer:l,displayAnswer:l}));words.forEach(([e,l])=>q.push({question:`Translate to English: '${l}'`,answer:e,displayAnswer:e}));words.forEach(([e,l])=>{const f=l[0]||"";const b="_".repeat(l.length-1);q.push({question:`'${e}' = '${f}${b}' - Complete the Latvian word`,answer:l,displayAnswer:l});});}else{const t=Math.floor(words.length/3);words.slice(0,t).forEach(([e,l])=>q.push({question:`Translate to Latvian: '${e}'`,answer:l,displayAnswer:l}));words.slice(t,t*2).forEach(([e,l])=>q.push({question:`Translate to English: '${l}'`,answer:e,displayAnswer:e}));words.slice(t*2).forEach(([e,l])=>{const f=l[0]||"";const b="_".repeat(l.length-1);q.push({question:`'${e}' = '${f}${b}'`,answer:l,displayAnswer:l});});}return q.sort(()=>Math.random()-0.5);}
        function generateReview(words,isNumbers){const size=Math.min(20,words.length);const sampled=[...words].sort(()=>Math.random()-0.5).slice(0,size);return sampled.map(([e,l])=>{if(isNumbers){return Math.random()>0.5?{question:`[GENERAL REVIEW] '${e}' in Latvian?`,answer:l,displayAnswer:l}:{question:`[GENERAL REVIEW] What number is '${l}'?`,answer:e,displayAnswer:e};}else{return Math.random()>0.5?{question:`[GENERAL REVIEW] Translate: '${e}'`,answer:l,displayAnswer:l}:{question:`[GENERAL REVIEW] Translate: '${l}'`,answer:e,displayAnswer:e};}});}
        function showScreen(id){document.querySelectorAll('.container').forEach(e=>e.classList.add('hidden'));document.getElementById(id).classList.remove('hidden');}
        function startFirstLesson(){state.currentLessonIndex=0;startLesson(state.lessonNames[0]);}
        function startLesson(name){const l=lessonsData[name];state.currentLesson=name;state.questions=generateQuestions(l.words,l.count,l.isNumbers);state.currentQ=0;state.score={correct:0,total:0};state.mainQuestionsCorrect=0;state.isReview=false;updateTestScreen();showScreen('testScreen');}
        function updateTestScreen(){const q=state.questions[state.currentQ];const p=((state.currentQ+1)/state.questions.length)*100;document.getElementById('lessonTitle').textContent=state.isReview?'üîÑ GENERAL REVIEW':state.currentLesson;document.getElementById('lessonProgress').textContent=`Lesson ${state.completedLessons+1}/${state.lessonNames.length}`;document.getElementById('progressFill').style.width=p+'%';document.getElementById('questionNumber').textContent=`Question ${state.currentQ+1}/${state.questions.length}`;document.getElementById('currentScore').textContent=`Score: ${state.score.correct}/${state.score.total}`;document.getElementById('questionText').textContent=q.question;document.getElementById('overallProgress').textContent=`Overall Progress: ${state.allLessonsScore.correct}/${state.allLessonsScore.total} (${state.allLessonsScore.total>0?Math.round((state.allLessonsScore.correct/state.allLessonsScore.total)*100):0}%)`;document.getElementById('answerInput').value='';document.getElementById('answerInput').focus();document.getElementById('answerSection').classList.remove('hidden');document.getElementById('feedbackSection').classList.add('hidden');}
        function handleEnter(e){if(e.key==='Enter'&&document.getElementById('answerInput').value)checkAnswer();}
        function checkAnswer(){const a=document.getElementById('answerInput').value;if(!a)return;const q=state.questions[state.currentQ];const c=normalizeText(a)===normalizeText(q.answer);state.score.correct+=c?1:0;state.score.total+=1;state.allLessonsScore.correct+=c?1:0;state.allLessonsScore.total+=1;if(!state.isReview&&state.currentQ<state.questions.length){if(c)state.mainQuestionsCorrect++;}document.getElementById('feedbackBox').className=c?'feedback feedback-correct':'feedback feedback-wrong';document.getElementById('feedbackIcon').textContent=c?'‚úì':'‚úó';document.getElementById('feedbackText').textContent=c?'Correct!':'Wrong!';document.getElementById('correctAnswer').innerHTML=c?'':`Correct answer: <strong>${q.displayAnswer}</strong>`;document.getElementById('answerSection').classList.add('hidden');document.getElementById('feedbackSection').classList.remove('hidden');}
        function nextQuestion(){if(state.currentQ<state.questions.length-1){state.currentQ++;updateTestScreen();}else{if(!state.isReview){showLessonComplete();}else{state.completedLessons++;showReviewComplete();}}}
        function showLessonComplete(){const p=(state.mainQuestionsCorrect/state.questions.length)*100;document.getElementById('mainScore').textContent=`${state.mainQuestionsCorrect}/${state.questions.length}`;document.getElementById('mainPercentage').textContent=p.toFixed(1)+'%';showScreen('lessonCompleteScreen');}
        function startReview(){const l=lessonsData[state.currentLesson];state.questions=generateReview(l.words,l.isNumbers);state.currentQ=0;state.isReview=true;updateTestScreen();showScreen('testScreen');}
        function showReviewComplete(){const rc=state.score.correct-state.mainQuestionsCorrect;const tc=state.score.correct;const tq=state.score.total;const p=(tc/tq)*100;document.getElementById('completedLessonName').textContent=state.currentLesson;document.getElementById('mainQScore').textContent=state.mainQuestionsCorrect;document.getElementById('reviewScore').textContent=rc;document.getElementById('totalScore').textContent=`${tc}/${tq}`;document.getElementById('totalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('totalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâ Excellent!':p>=70?'üëè Very Good!':p>=50?'üëç Good!':'üìö Keep studying!';document.getElementById('performanceMessage').textContent=m;const last=state.currentLessonIndex===state.lessonNames.length-1;document.getElementById('continueButtonText').textContent=last?'View Final Results':`Continue to ${state.lessonNames[state.currentLessonIndex+1]}`;document.getElementById('lessonsCompleted').textContent=`Completed: ${state.completedLessons}/${state.lessonNames.length} lessons`;showScreen('reviewCompleteScreen');}
        function continueToNext(){state.currentLessonIndex++;if(state.currentLessonIndex<state.lessonNames.length){startLesson(state.lessonNames[state.currentLessonIndex]);}else{showFinalResults();}}
        function showFinalResults(){const p=(state.allLessonsScore.correct/state.allLessonsScore.total)*100;document.getElementById('totalLessons').textContent=state.lessonNames.length;document.getElementById('finalScore').textContent=`${state.allLessonsScore.correct}/${state.allLessonsScore.total}`;document.getElementById('finalPercentage').textContent=p.toFixed(1)+'%';document.getElementById('finalPercentage').style.color=p>=90?'#10b981':p>=70?'#3b82f6':p>=50?'#eab308':'#ef4444';const m=p>=90?'üéâüéâüéâ EXCELLENT! You\'re amazing at Latvian! üéâüéâüéâ':p>=70?'üëèüëèüëè VERY GOOD! Great performance! üëèüëèüëè':p>=50?'üëçüëç GOOD! Keep going! üëçüëç':'üìöüìö Keep studying! You can do it! üìöüìö';document.getElementById('finalMessage').textContent=m;showScreen('finalScreen');}
        function goHome(){state={lessonNames:Object.keys(lessonsData),currentLessonIndex:0,currentLesson:null,questions:[],currentQ:0,score:{correct:0,total:0},mainQuestionsCorrect:0,isReview:false,allLessonsScore:{correct:0,total:0},completedLessons:0};showScreen('homeScreen');}
    </script>
</body>
</html>